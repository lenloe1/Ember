<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">

<title>EmberZNet API Reference: For the STM32F103RET Host platform: micro-common.h Source File</title>

<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">

</head><body>

<table border="0" cellspacing="0" cellpadding="0"  width=100%>

<tr>

<td><img src="emberLogoSmallWebsiteVer.gif"></td>

<td> <div class="qindex">

<a class="qindex" href="main.htm">Home</a>&nbsp;

 | &nbsp;<a class="qindex" href="modules.htm">Modules</a>&nbsp;

 | &nbsp;<a class="qindex" href="annotated.htm">Data Structures</a>&nbsp;

 | &nbsp;<a class="qindex" href="files.htm">File List</a>&nbsp;

 | &nbsp;<a class="qindex" href="dirs.htm">Directories</a>&nbsp;

 | &nbsp;<a class="qindex" href="globals.htm">Index</a></div>

</td>

</table>
<!-- Generated by Doxygen 1.6.1 -->
  <div class="navpath"><a class="el" href="dir_928392185f3941e33d232d8d861cbeaf.htm">hal</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_7642951b2ddc58ac37f687ab6e1b2fbf.htm">host</a>
  </div>
<div class="contents">
<h1>micro-common.h</h1><a href="micro-common_8h.htm">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00017"></a>00017 <span class="preprocessor">#ifndef __MICRO_COMMON_H__</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span><span class="preprocessor">#define __MICRO_COMMON_H__</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span>
<a name="l00020"></a>00020 
<a name="l00023"></a>00023 <span class="keywordtype">void</span> <a class="code" href="group__host.htm#gafd89c1650df524d95aef39b8bc38170d" title="Initializes microcontroller-specific peripherals.">halInit</a>(<span class="keywordtype">void</span>);
<a name="l00024"></a>00024 
<a name="l00027"></a>00027 <span class="keywordtype">void</span> <a class="code" href="group__host.htm#ga3550a689dc90ddd9d7d973bb154dd909" title="Restarts the microcontroller.">halReboot</a>(<span class="keywordtype">void</span>);
<a name="l00028"></a>00028 
<a name="l00031"></a>00031 <span class="keywordtype">void</span> <a class="code" href="group__host.htm#ga467bf8ac5d5964ca282f332f4e394654" title="Powers up microcontroller peripherals.">halPowerUp</a>(<span class="keywordtype">void</span>);
<a name="l00032"></a>00032 
<a name="l00035"></a>00035 <span class="keywordtype">void</span> <a class="code" href="group__host.htm#gae13140ae48ea28772b67717f0d28f5e9" title="Powers down microcontroller peripherals.">halPowerDown</a>(<span class="keywordtype">void</span>);
<a name="l00036"></a>00036 
<a name="l00041"></a><a class="code" href="group__host.htm#gabb42f7171eba6959a54c6e6d9aeca64e">00041</a> <span class="preprocessor">#define MICRO_DISABLE_WATCH_DOG_KEY 0xA5</span>
<a name="l00042"></a>00042 <span class="preprocessor"></span>
<a name="l00046"></a>00046 <span class="keywordtype">void</span> <a class="code" href="group__host.htm#ga7ea499662dd11955f9f3cc340e2455b8" title="Enables the watchdog timer, if there is one and it is reasonable to be enabled.">halInternalEnableWatchDog</a>(<span class="keywordtype">void</span>);
<a name="l00047"></a>00047 
<a name="l00057"></a>00057 <span class="keywordtype">void</span> <a class="code" href="group__host.htm#ga81c4a9744062969d68ab3a3ce56286c5" title="Disables the watchdog timer, if there is one and it can be disabled.">halInternalDisableWatchDog</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> magicKey);
<a name="l00058"></a>00058 
<a name="l00073"></a>00073 <span class="keywordtype">void</span> <a class="code" href="group__host.htm#ga81df7d5e74c518f1cee0c40ce8c2a199" title="Blocks the current thread of execution for the specified amount of time, in microseconds...">halCommonDelayMicroseconds</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga40790a257990626db514387099889f37" title="A typedef to make the size of the variable explicitly known.">int16u</a> us);
<a name="l00074"></a>00074 
<a name="l00082"></a>00082 <span class="keywordtype">void</span> <a class="code" href="group__host.htm#ga3b180f12872a4b39217327000947fe8d" title="Blocks the current thread of execution for the specified amount of time, in milliseconds...">halCommonDelayMilliseconds</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga40790a257990626db514387099889f37" title="A typedef to make the size of the variable explicitly known.">int16u</a> ms);
<a name="l00083"></a>00083 
<a name="l00094"></a>00094 <span class="keywordtype">void</span> <a class="code" href="group__host.htm#gac71eaac4357469bf7dd17571585a5db3" title="Called implicitly through the standard C language assert() macro. An implementation...">halInternalAssertFailed</a>(<a class="code" href="group__platform__common.htm#ga963f816fc88a5d8479c285ed4c630229" title="Char pointer to program memory declaration.">PGM_P</a> filename, <span class="keywordtype">int</span> linenumber);
<a name="l00095"></a>00095 
<a name="l00100"></a>00100 <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> <a class="code" href="group__host.htm#ga3d08021495e9082c02fa113e624c8cb2" title="Gets information about what caused the microcontroller to reset.">halGetResetInfo</a>(<span class="keywordtype">void</span>);
<a name="l00101"></a>00101 
<a name="l00106"></a>00106 <a class="code" href="group__platform__common.htm#ga963f816fc88a5d8479c285ed4c630229" title="Char pointer to program memory declaration.">PGM_P</a> <a class="code" href="group__host.htm#ga7e5131c65da9fcf7ab185503f4137799" title="Calls halGetResetInfo() and supplies a string describing it.">halGetResetString</a>(<span class="keywordtype">void</span>);
<a name="l00107"></a>00107 
<a name="l00113"></a>00113 <span class="keywordtype">void</span> <a class="code" href="group__host.htm#gaad3b617d26789fb6c4789847a007eaad" title="Seeds the halCommonGetRandom() pseudorandom number generator.">halStackSeedRandom</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga05aebcd1ffd9d69bda7b936f0cbd64b5" title="A typedef to make the size of the variable explicitly known.">int32u</a> seed);
<a name="l00114"></a>00114 
<a name="l00117"></a>00117 <a class="code" href="group__stm32f103ret__iar__config.htm#ga40790a257990626db514387099889f37" title="A typedef to make the size of the variable explicitly known.">int16u</a> <a class="code" href="group__host.htm#ga92d978a2b55bcb6d8ffe996e9a768f57" title="Generate pseudorandom numbers. Implementation is host specific.">halCommonGetRandom</a>(<span class="keywordtype">void</span>);
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 <span class="preprocessor">#ifdef DOXYGEN_SHOULD_SKIP_THIS</span>
<a name="l00121"></a>00121 <span class="preprocessor"></span>
<a name="l00157"></a><a class="code" href="group__host.htm#gace58749df14c14b64252eb55f40d2c32">00157</a> <span class="keyword">enum</span> <a class="code" href="group__host.htm#gace58749df14c14b64252eb55f40d2c32" title="Enumerations for the possible microcontroller sleep modes.">SleepModes</a>
<a name="l00158"></a>00158 <span class="preprocessor">#else</span>
<a name="l00159"></a>00159 <span class="preprocessor"></span><span class="keyword">typedef</span> <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> <a class="code" href="group__host.htm#gace58749df14c14b64252eb55f40d2c32" title="Enumerations for the possible microcontroller sleep modes.">SleepModes</a>;
<a name="l00160"></a>00160 <span class="keyword">enum</span>
<a name="l00161"></a>00161 <span class="preprocessor">#endif</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span>{
<a name="l00163"></a><a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a4b1e70cf7dd0396d75a5ef3bc357694a">00163</a>   <a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a4b1e70cf7dd0396d75a5ef3bc357694a">SLEEPMODE_RUNNING</a> = 0,
<a name="l00164"></a><a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a8dec81d54908044ef56016aee3b1b506">00164</a>   <a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a8dec81d54908044ef56016aee3b1b506">SLEEPMODE_IDLE</a> = 1,
<a name="l00165"></a><a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a93af1c45a33be62df00d0ab82ef04128">00165</a>   <a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a93af1c45a33be62df00d0ab82ef04128">SLEEPMODE_WAKETIMER</a> = 2,
<a name="l00166"></a><a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a4c95cce8a2fe32d302ce3a42a74c58d1">00166</a>   <a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a4c95cce8a2fe32d302ce3a42a74c58d1">SLEEPMODE_MAINTAINTIMER</a> = 3,
<a name="l00167"></a><a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a559adb5abaebc7504743f8684ab16f28">00167</a>   <a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a559adb5abaebc7504743f8684ab16f28">SLEEPMODE_NOTIMER</a> = 4,
<a name="l00168"></a>00168   
<a name="l00169"></a>00169   <span class="comment">//The following SleepModes are deprecated.  Each micro&apos;s halSleep()</span>
<a name="l00170"></a>00170   <span class="comment">//function will remap these modes to the appropriate replacement, as</span>
<a name="l00171"></a>00171   <span class="comment">//necessary.</span>
<a name="l00172"></a><a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a8d06b6cc298a4a34eaca616b86f800d5">00172</a>   <a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a8d06b6cc298a4a34eaca616b86f800d5">SLEEPMODE_RESERVED</a> = 6,
<a name="l00173"></a><a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a0f74b29aa0a12fbc2c31db42392101d7">00173</a>   <a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a0f74b29aa0a12fbc2c31db42392101d7">SLEEPMODE_POWERDOWN</a> = 7,
<a name="l00174"></a><a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a34e3924778494e4fd21702fb4fbed0b2">00174</a>   <a class="code" href="group__host.htm#ggace58749df14c14b64252eb55f40d2c32a34e3924778494e4fd21702fb4fbed0b2">SLEEPMODE_POWERSAVE</a> = 8,
<a name="l00175"></a>00175 };
<a name="l00176"></a>00176 
<a name="l00183"></a>00183 <span class="keywordtype">void</span> <a class="code" href="group__host.htm#ga6d05736655f1a012dc969d1d912e835b" title="Puts the microcontroller to sleep in a specified mode.">halSleep</a>(<a class="code" href="group__host.htm#gace58749df14c14b64252eb55f40d2c32" title="Enumerations for the possible microcontroller sleep modes.">SleepModes</a> sleepMode);
<a name="l00184"></a>00184 
<a name="l00185"></a>00185 
<a name="l00186"></a>00186 <span class="comment">//Pull in the micro specific micro definitions.  The specific header is chosen</span>
<a name="l00187"></a>00187 <span class="comment">//by the build include path pointing at the appropriate directory.</span>
<a name="l00188"></a>00188 <span class="preprocessor">#include &quot;<a class="code" href="micro-specific_8h.htm">micro-specific.h</a>&quot;</span>
<a name="l00189"></a>00189 
<a name="l00190"></a>00190 
<a name="l00191"></a>00191 <span class="preprocessor">#endif //__MICRO_COMMON_H__</span>
<a name="l00192"></a>00192 <span class="preprocessor"></span>
<a name="l00193"></a>00193 
</pre></div></div>
<hr size="1">

<table border="0" cellspacing="0" cellpadding="0" width=100%>

<tr>

<td><address><small>

EmberZNet API Reference: For the STM32F103RET Host platform. <br>

EmberZNet 4.5.0 - Document 120-3025-000-45xx.

</small></address>

</td>

<td align="right">

<address><small>

Copyright &copy; 2006-2010 by Ember Corporation. All rights reserved.<br>

Generated Fri Jun 24 15:12:52 2011 with <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.6.1.

</small></address>

</td>

</tr>

</table>

</body>

</html>
