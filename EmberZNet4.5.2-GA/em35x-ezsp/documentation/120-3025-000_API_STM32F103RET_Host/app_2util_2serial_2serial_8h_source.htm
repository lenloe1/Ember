<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">

<title>EmberZNet API Reference: For the STM32F103RET Host platform: serial.h Source File</title>

<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">

</head><body>

<table border="0" cellspacing="0" cellpadding="0"  width=100%>

<tr>

<td><img src="emberLogoSmallWebsiteVer.gif"></td>

<td> <div class="qindex">

<a class="qindex" href="main.htm">Home</a>&nbsp;

 | &nbsp;<a class="qindex" href="modules.htm">Modules</a>&nbsp;

 | &nbsp;<a class="qindex" href="annotated.htm">Data Structures</a>&nbsp;

 | &nbsp;<a class="qindex" href="files.htm">File List</a>&nbsp;

 | &nbsp;<a class="qindex" href="dirs.htm">Directories</a>&nbsp;

 | &nbsp;<a class="qindex" href="globals.htm">Index</a></div>

</td>

</table>
<!-- Generated by Doxygen 1.6.1 -->
  <div class="navpath"><a class="el" href="dir_20396ffc616a28dbb6d73622b23934c9.htm">app</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_99acc1c0b623527d651e7c133a8e2a3d.htm">util</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_b17ac733777526a885581cce6bb0159e.htm">serial</a>
  </div>
<div class="contents">
<h1>app/util/serial/serial.h</h1><a href="app_2util_2serial_2serial_8h.htm">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00012"></a>00012 <span class="preprocessor">#ifndef __SERIAL_H__</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span><span class="preprocessor">#define __SERIAL_H__</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span>
<a name="l00015"></a>00015 <span class="preprocessor">#ifndef __HAL_H__</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span><span class="preprocessor">  #error hal/hal.h should be included first</span>
<a name="l00017"></a>00017 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span>
<a name="l00019"></a>00019 <span class="preprocessor">#ifndef DOXYGEN_SHOULD_SKIP_THIS</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span><span class="preprocessor">#include &lt;stdarg.h&gt;</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="comment">//Rx FIFO Full indicator</span>
<a name="l00023"></a>00023 <span class="preprocessor">#define RX_FIFO_FULL (0xFFFF)</span>
<a name="l00024"></a>00024 <span class="preprocessor"></span>
<a name="l00025"></a>00025 <span class="preprocessor">#endif // DOXYGEN_SHOULD_SKIP_THIS</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span>
<a name="l00136"></a>00136 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> <a class="code" href="group__serial__comm.htm#gab8c8048967bbfbd0df576c91d56fc7bc" title="Initializes a serial port to a specific baud rate, parity, and number of stop bits...">emberSerialInit</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port, 
<a name="l00137"></a>00137                             <a class="code" href="group__serial.htm#ga79e9d2305515318a1ae0ab5aaffd6fcb" title="Assign numerical values for variables that hold Baud Rate parameters.">SerialBaudRate</a> rate,
<a name="l00138"></a>00138                             SerialParity parity,
<a name="l00139"></a>00139                             <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> stopBits);
<a name="l00140"></a>00140 
<a name="l00148"></a>00148 <a class="code" href="group__stm32f103ret__iar__config.htm#ga40790a257990626db514387099889f37" title="A typedef to make the size of the variable explicitly known.">int16u</a> <a class="code" href="group__serial__comm.htm#ga14299c02bb630cbaae72388dbd809027" title="Returns the number of bytes currently available for reading in the specified RX queue...">emberSerialReadAvailable</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port);
<a name="l00149"></a>00149 
<a name="l00167"></a>00167 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> <a class="code" href="group__serial__comm.htm#ga5ec7399a96801f90250533228fedb433" title="Reads a byte from the specified RX queue. If an error is returned, the dataByte should...">emberSerialReadByte</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port, <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> *dataByte);
<a name="l00168"></a>00168 
<a name="l00183"></a>00183 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> <a class="code" href="group__serial__comm.htm#ga769293b3dfe7ec8e176d0424ada84571" title="Simulates a terminal interface, reading a line of characters at a time. Supports...">emberSerialReadLine</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port, <span class="keywordtype">char</span> *data, <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> max);
<a name="l00184"></a>00184 
<a name="l00208"></a>00208 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> <a class="code" href="group__serial__comm.htm#ga5ea636643702a7b31d7939eebcb5a4b8" title="Simulates a partial terminal interface, reading a line of characters at a time. Supports...">emberSerialReadPartialLine</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port, <span class="keywordtype">char</span> *data, <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> max, <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> *index);
<a name="l00209"></a>00209 
<a name="l00218"></a>00218 <a class="code" href="group__stm32f103ret__iar__config.htm#ga40790a257990626db514387099889f37" title="A typedef to make the size of the variable explicitly known.">int16u</a> <a class="code" href="group__serial__comm.htm#gad0089af1d04459c6e470ea218a88753b" title="Returns the number of bytes (in FIFO mode) or messages (in buffered mode) that can...">emberSerialWriteAvailable</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port);
<a name="l00219"></a>00219 
<a name="l00227"></a><a class="code" href="group__serial__comm.htm#gaa13b14c431a7286b441aacc7f034ed03">00227</a> <span class="preprocessor">#define emberSerialWriteUsed(port)  \</span>
<a name="l00228"></a>00228 <span class="preprocessor">  (emSerialTxQueueSizes[port] - emberSerialWriteAvailable(port))</span>
<a name="l00229"></a>00229 <span class="preprocessor"></span>
<a name="l00243"></a>00243 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> <a class="code" href="group__serial__comm.htm#ga6577bb795f1702fea8de38ca81365bd4" title="Queues a single byte of data for transmission on the specified port.">emberSerialWriteByte</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port, <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> dataByte);
<a name="l00244"></a>00244 
<a name="l00259"></a>00259 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> <a class="code" href="group__serial__comm.htm#ga268c5375af4e74a3d65d42dd01f628f4" title="Converts a given byte of data to its two-character ASCII hex representation and queues...">emberSerialWriteHex</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port, <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> dataByte);
<a name="l00260"></a>00260 
<a name="l00273"></a>00273 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> <a class="code" href="group__serial__comm.htm#ga9b74a7e1f7bcbbd16e7148948118a085" title="Queues a string for transmission on the specified port.">emberSerialWriteString</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port, <a class="code" href="group__platform__common.htm#ga963f816fc88a5d8479c285ed4c630229" title="Char pointer to program memory declaration.">PGM_P</a> <span class="keywordtype">string</span>);
<a name="l00274"></a>00274 
<a name="l00299"></a>00299 XAP2B_PAGEZERO_ON
<a name="l00300"></a>00300 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> <a class="code" href="group__serial__comm.htm#ga6f1d724a898f91deb001d0366edc3f79" title="Printf for printing on a specified port. Supports the following format specifiers:%%...">emberSerialPrintf</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port, <a class="code" href="group__platform__common.htm#ga963f816fc88a5d8479c285ed4c630229" title="Char pointer to program memory declaration.">PGM_P</a> formatString, ...);
<a name="l00301"></a>00301 XAP2B_PAGEZERO_OFF
<a name="l00302"></a>00302 
<a name="l00318"></a>00318 XAP2B_PAGEZERO_ON
<a name="l00319"></a>00319 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> <a class="code" href="group__serial__comm.htm#ga2e91508fd527e70c7bd992478d06d649" title="Printf for printing on a specified port. Same as emberSerialPrintf() except it prints...">emberSerialPrintfLine</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port, <a class="code" href="group__platform__common.htm#ga963f816fc88a5d8479c285ed4c630229" title="Char pointer to program memory declaration.">PGM_P</a> formatString, ...);
<a name="l00320"></a>00320 XAP2B_PAGEZERO_OFF
<a name="l00321"></a>00321 
<a name="l00332"></a>00332 XAP2B_PAGEZERO_ON
<a name="l00333"></a>00333 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> <a class="code" href="group__serial__comm.htm#ga247a945b782990503b0c6d974760ba4d" title="Prints &amp;quot;\r\n&amp;quot; to the specified serial port.">emberSerialPrintCarriageReturn</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port);
<a name="l00334"></a>00334 XAP2B_PAGEZERO_OFF
<a name="l00335"></a>00335 
<a name="l00336"></a>00336 
<a name="l00349"></a>00349 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> <a class="code" href="group__serial__comm.htm#ga8beb2b233719e9aa526c8a6da10762d2" title="Prints a format string with a variable argument list.">emberSerialPrintfVarArg</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port, <a class="code" href="group__platform__common.htm#ga963f816fc88a5d8479c285ed4c630229" title="Char pointer to program memory declaration.">PGM_P</a> formatString, va_list ap);
<a name="l00350"></a>00350 
<a name="l00366"></a>00366 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> <a class="code" href="group__serial__comm.htm#gab465fa88b861e06d032d07a4df39bcce" title="Queues an arbitrary chunk of data for transmission on a specified port.">emberSerialWriteData</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port, <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> *data, <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> length);
<a name="l00367"></a>00367 
<a name="l00368"></a>00368 <span class="comment">//Host HALs do not use stack buffers.</span>
<a name="l00369"></a>00369 <span class="preprocessor">#ifndef HAL_HOST</span>
<a name="l00370"></a>00370 <span class="preprocessor"></span>
<a name="l00388"></a>00388 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> emberSerialWriteBuffer(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port, <a class="code" href="group__ember__types.htm#ga6ed7385454b72470ac4daaa87fc8539c" title="Incoming and outgoing messages are stored in buffers. These buffers are allocated...">EmberMessageBuffer</a> buffer, <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> start, <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> length);
<a name="l00389"></a>00389 <span class="preprocessor">#endif //HAL_HOST</span>
<a name="l00390"></a>00390 <span class="preprocessor"></span>
<a name="l00403"></a>00403 XAP2B_PAGEZERO_ON
<a name="l00404"></a>00404 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> <a class="code" href="group__serial__comm.htm#gae3e7ac095ef47dc007df6ddf80e8fd6d" title="Waits for all data currently queued on the specified port to be transmitted before...">emberSerialWaitSend</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port);
<a name="l00405"></a>00405 XAP2B_PAGEZERO_OFF
<a name="l00406"></a>00406 
<a name="l00427"></a>00427 <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> <a class="code" href="group__serial__comm.htm#gadcf39db3d76b91327f9aeb7c70c04b38" title="A printf routine that takes over the specified serial port and immediately transmits...">emberSerialGuaranteedPrintf</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port, <a class="code" href="group__platform__common.htm#ga963f816fc88a5d8479c285ed4c630229" title="Char pointer to program memory declaration.">PGM_P</a> formatString, ...);
<a name="l00428"></a>00428 
<a name="l00434"></a>00434 <span class="keywordtype">void</span> <a class="code" href="group__serial__comm.htm#gaf721671bb351885fbc42f7af0115bd34" title="When a serial port is used in buffered mode, this must be called in an application&amp;#39;s...">emberSerialBufferTick</a>(<span class="keywordtype">void</span>);
<a name="l00435"></a>00435 
<a name="l00441"></a>00441 <span class="keywordtype">void</span> <a class="code" href="group__serial__comm.htm#gaf826760aaa265b9ce9bb105d5c4779f0" title="Flushes the receive buffer in case none of the incoming serial data is wanted.">emberSerialFlushRx</a>(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port);
<a name="l00442"></a>00442 
<a name="l00443"></a>00443 
<a name="l00444"></a>00444 
<a name="l00445"></a>00445 
<a name="l00466"></a><a class="code" href="group__serial__comm.htm#ga21f7705adc8e0b3d49b6f843230763e2">00466</a> <span class="keyword">typedef</span> <a class="code" href="group__ember__types.htm#ga333d7a94b63d29c627eb16b0667371ec" title="Return type for Ember functions.">EmberStatus</a> (<a class="code" href="group__serial__comm.htm#ga21f7705adc8e0b3d49b6f843230763e2" title="Typedefine to cast a function into the appropriate format to be used inside the emPrintfInternal...">emPrintfFlushHandler</a>)(<a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> flushVar, 
<a name="l00467"></a>00467                                            <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> *contents, 
<a name="l00468"></a>00468                                            <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> length);
<a name="l00469"></a>00469 
<a name="l00470"></a>00470 
<a name="l00488"></a>00488 <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> <a class="code" href="group__serial__comm.htm#gacd364b306df863e0d3e23db1d003ab09" title="The internal printf function, which scans the string for the format specifiers and...">emPrintfInternal</a>(<a class="code" href="group__serial__comm.htm#ga21f7705adc8e0b3d49b6f843230763e2" title="Typedefine to cast a function into the appropriate format to be used inside the emPrintfInternal...">emPrintfFlushHandler</a> <a class="code" href="ember-types_8h.htm#a375175dbe9c02f0331df24258dbca000">handler</a>, <a class="code" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749" title="A typedef to make the size of the variable explicitly known.">int8u</a> port, <a class="code" href="group__platform__common.htm#ga963f816fc88a5d8479c285ed4c630229" title="Char pointer to program memory declaration.">PGM_P</a> buff, va_list list);
<a name="l00489"></a>00489 
<a name="l00490"></a>00490 
<a name="l00495"></a>00495 <span class="preprocessor">#endif // __SERIAL_H__</span>
<a name="l00496"></a>00496 <span class="preprocessor"></span>
</pre></div></div>
<hr size="1">

<table border="0" cellspacing="0" cellpadding="0" width=100%>

<tr>

<td><address><small>

EmberZNet API Reference: For the STM32F103RET Host platform. <br>

EmberZNet 4.5.0 - Document 120-3025-000-45xx.

</small></address>

</td>

<td align="right">

<address><small>

Copyright &copy; 2006-2010 by Ember Corporation. All rights reserved.<br>

Generated Fri Jun 24 15:12:52 2011 with <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.6.1.

</small></address>

</td>

</tr>

</table>

</body>

</html>
