<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">

<title>EmberZNet API Reference: For the STM32F103RET Host platform: Button Control</title>

<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">

</head><body>

<table border="0" cellspacing="0" cellpadding="0"  width=100%>

<tr>

<td><img src="emberLogoSmallWebsiteVer.gif"></td>

<td> <div class="qindex">

<a class="qindex" href="main.htm">Home</a>&nbsp;

 | &nbsp;<a class="qindex" href="modules.htm">Modules</a>&nbsp;

 | &nbsp;<a class="qindex" href="annotated.htm">Data Structures</a>&nbsp;

 | &nbsp;<a class="qindex" href="files.htm">File List</a>&nbsp;

 | &nbsp;<a class="qindex" href="dirs.htm">Directories</a>&nbsp;

 | &nbsp;<a class="qindex" href="globals.htm">Index</a></div>

</td>

</table>
<!-- Generated by Doxygen 1.6.1 -->
<div class="contents">
<h1>Button Control<br/>
<small>
[<a class="el" href="group__peripherals.htm">Sample APIs for Peripheral Access</a>]</small>
</h1>
<p>Sample generic API funtions for using push-buttons.  
<a href="#_details">More...</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Modules</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stm32f103ret__button.htm">STM32F103RET Specific Button</a></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__button.htm#gac39d4a62f8c5ba064fb676378552feb3">halInternalInitButton</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749">int8u</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__button.htm#gae7cbea83ded72352d7de91487c93f978">halButtonState</a> (<a class="el" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749">int8u</a> button)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749">int8u</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__button.htm#gaf34a60576c8be11d3e0e3c13f7f2714e">halButtonPinState</a> (<a class="el" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749">int8u</a> button)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__button.htm#ga4acc7a06381f1298a5e0f8690ddc6a46">halButtonIsr</a> (<a class="el" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749">int8u</a> button, <a class="el" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749">int8u</a> state)</td></tr>
<tr><td colspan="2"><h2>Button State Definitions</h2></td></tr>
<tr><td colspan="2"><p><a class="anchor" id="amgrp78c6b77f093e915e378266f6bc34baeb"></a> A set of numerical definitions for use with the button APIs indicating the state of a button. </p>
<br/><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__button.htm#ga666f4a9872b7185170dd9318ceff91c6">BUTTON_PRESSED</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__button.htm#gafd02c108ba5abc6ddc9b17b6a3348880">BUTTON_RELEASED</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Sample generic API funtions for using push-buttons. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The micro specific definitions, <a class="el" href="group__stm32f103ret__button.htm">STM32F103RET Specific Button</a>, is chosen by the build include path pointing at the appropriate directoy.</dd></dl>
<p>See <a class="el" href="button-common_8h.htm">button-common.h</a> for source code. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga666f4a9872b7185170dd9318ceff91c6"></a><!-- doxytag: member="button&#45;common.h::BUTTON_PRESSED" ref="ga666f4a9872b7185170dd9318ceff91c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUTTON_PRESSED</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Button state is pressed. </p>

<p>Definition at line <a class="el" href="button-common_8h_source.htm#l00029">29</a> of file <a class="el" href="button-common_8h_source.htm">button-common.h</a>.</p>

</div>
</div>
<a class="anchor" id="gafd02c108ba5abc6ddc9b17b6a3348880"></a><!-- doxytag: member="button&#45;common.h::BUTTON_RELEASED" ref="gafd02c108ba5abc6ddc9b17b6a3348880" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUTTON_RELEASED</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Button state is released. </p>

<p>Definition at line <a class="el" href="button-common_8h_source.htm#l00033">33</a> of file <a class="el" href="button-common_8h_source.htm">button-common.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gac39d4a62f8c5ba064fb676378552feb3"></a><!-- doxytag: member="button&#45;common.h::halInternalInitButton" ref="gac39d4a62f8c5ba064fb676378552feb3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halInternalInitButton </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initializes the buttons. Must be called before the buttons can be used. </p>

</div>
</div>
<a class="anchor" id="gae7cbea83ded72352d7de91487c93f978"></a><!-- doxytag: member="button&#45;common.h::halButtonState" ref="gae7cbea83ded72352d7de91487c93f978" args="(int8u button)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749">int8u</a> halButtonState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749">int8u</a>&nbsp;</td>
          <td class="paramname"> <em>button</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the current state (pressed or released) of a button. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is correlated with <a class="el" href="group__button.htm#ga4acc7a06381f1298a5e0f8690ddc6a46" title="A callback called in interrupt context whenever a button changes its state.">halButtonIsr()</a> and so returns the shadow state rather than reading the actual state of the pin.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>button</em>&nbsp;</td><td>The button being queried, either BUTTON0 or BUTTON1 as defined in <a class="el" href="button-specific_8h.htm">button-specific.h</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__button.htm#ga666f4a9872b7185170dd9318ceff91c6" title="Button state is pressed.">BUTTON_PRESSED</a> if the button is pressed or <a class="el" href="group__button.htm#gafd02c108ba5abc6ddc9b17b6a3348880" title="Button state is released.">BUTTON_RELEASED</a> if the button is not pressed. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf34a60576c8be11d3e0e3c13f7f2714e"></a><!-- doxytag: member="button&#45;common.h::halButtonPinState" ref="gaf34a60576c8be11d3e0e3c13f7f2714e" args="(int8u button)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749">int8u</a> halButtonPinState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749">int8u</a>&nbsp;</td>
          <td class="paramname"> <em>button</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the current state (pressed or released) of the pin associated with a button. </p>
<p>This reads the actual state of the pin and can be used on startup to determine the initial position of the buttons.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>button</em>&nbsp;</td><td>The button being queried, either BUTTON0 or BUTTON1 as defined in <a class="el" href="button-specific_8h.htm">button-specific.h</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="group__button.htm#ga666f4a9872b7185170dd9318ceff91c6" title="Button state is pressed.">BUTTON_PRESSED</a> if the button is pressed or <a class="el" href="group__button.htm#gafd02c108ba5abc6ddc9b17b6a3348880" title="Button state is released.">BUTTON_RELEASED</a> if the button is not pressed. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4acc7a06381f1298a5e0f8690ddc6a46"></a><!-- doxytag: member="button&#45;common.h::halButtonIsr" ref="ga4acc7a06381f1298a5e0f8690ddc6a46" args="(int8u button, int8u state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halButtonIsr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749">int8u</a>&nbsp;</td>
          <td class="paramname"> <em>button</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__stm32f103ret__iar__config.htm#ga29edc2328533c8dbc46be2d7b654c749">int8u</a>&nbsp;</td>
          <td class="paramname"> <em>state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A callback called in interrupt context whenever a button changes its state. </p>
<dl class="user"><dt><b>Application Usage:</b></dt><dd>Must be implemented by the application. This function should contain the functionality to be executed in response to changes of state in each of the buttons, or callbacks to the appropriate functionality.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>button</em>&nbsp;</td><td>The button which has changed state, either BUTTON0 or BUTTON1 as defined in <a class="el" href="button-specific_8h.htm">button-specific.h</a>.</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>The new state of the button referenced by the button parameter, either <a class="el" href="group__button.htm#ga666f4a9872b7185170dd9318ceff91c6" title="Button state is pressed.">BUTTON_PRESSED</a> if the button has been pressed or <a class="el" href="group__button.htm#gafd02c108ba5abc6ddc9b17b6a3348880" title="Button state is released.">BUTTON_RELEASED</a> if the button has been released. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr size="1">

<table border="0" cellspacing="0" cellpadding="0" width=100%>

<tr>

<td><address><small>

EmberZNet API Reference: For the STM32F103RET Host platform. <br>

EmberZNet 4.5.0 - Document 120-3025-000-45xx.

</small></address>

</td>

<td align="right">

<address><small>

Copyright &copy; 2006-2010 by Ember Corporation. All rights reserved.<br>

Generated Fri Jun 24 15:12:52 2011 with <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.6.1.

</small></address>

</td>

</tr>

</table>

</body>

</html>
