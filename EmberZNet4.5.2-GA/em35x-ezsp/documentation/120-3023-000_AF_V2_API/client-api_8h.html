<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">

<title>Application Framework API Reference: client-api.h File Reference</title>

<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">

</head><body>

<table border="0" cellspacing="0" cellpadding="0"  width=100%>

<tr>

<td><img src="emberLogoSmallWebsiteVer.gif"></td>

<td> <div class="qindex">

<a class="qindex" href="main.html">Home</a>&nbsp;

 | &nbsp;<a class="qindex" href="modules.html">Modules</a>&nbsp;

 | &nbsp;<a class="qindex" href="annotated.html">Data Structures</a>&nbsp;

 | &nbsp;<a class="qindex" href="files.html">File List</a>&nbsp;

 | &nbsp;<a class="qindex" href="dirs.html">Directories</a>&nbsp;

 | &nbsp;<a class="qindex" href="globals.html">Index</a></div>

</td>

</table>
<!-- Generated by Doxygen 1.5.8 -->
  <div class="navpath"><a class="el" href="dir_fecac40be0af2076ed38531225652d23.html">app</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_a4fb87c2c2a3c9408923edef982c913e.html">framework</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_be6d1c55885bdc384808e4006d5df980.html">util</a>
  </div>
<div class="contents">
<h1>client-api.h File Reference</h1>API for generating command buffer.  
<a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="client-command-macro_8h-source.html">../gen/client-command-macro.h</a>&quot;</code><br>

<p>
<a href="client-api_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Client API functions</div></td></tr>
<tr><td colspan="2"><div class="groupText"><br><br></div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int16u&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="client-api_8h.html#7aee7923540cb15e98a08a25a3940aaa">emberAfFillExternalBuffer</a> (int8u frameControl, <a class="el" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1">EmberAfClusterId</a> clusterId, int8u commandId, PGM_P format,...)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int16u&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="client-api_8h.html#33b9177647281c28c77818095e33b429">emberAfFillExternalManufacturerSpecificBuffer</a> (int8u frameControl, <a class="el" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1">EmberAfClusterId</a> clusterId, int16u manufacturerCode, int8u commandId, PGM_P format,...)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="client-api_8h.html#529dc087e57fc2024f923e0501ec354b">emberAfSetExternalBuffer</a> (int8u *buffer, int16u bufferLen, int16u *responseLengthPtr, EmberApsFrame *apsFramePtr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int16u&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="client-api_8h.html#74205810b48d778277bec6fae01fcfc1">emberAfFillBuffer</a> (int8u *buffer, int16u bufferLen, int8u frameControl, int8u commandId, PGM_P format,...)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
API for generating command buffer. 
<p>

<p>Definition in file <a class="el" href="client-api_8h-source.html">client-api.h</a>.</p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="7aee7923540cb15e98a08a25a3940aaa"></a><!-- doxytag: member="client&#45;api.h::emberAfFillExternalBuffer" ref="7aee7923540cb15e98a08a25a3940aaa" args="(int8u frameControl, EmberAfClusterId clusterId, int8u commandId, PGM_P format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16u emberAfFillExternalBuffer           </td>
          <td>(</td>
          <td class="paramtype">int8u&nbsp;</td>
          <td class="paramname"> <em>frameControl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1">EmberAfClusterId</a>&nbsp;</td>
          <td class="paramname"> <em>clusterId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8u&nbsp;</td>
          <td class="paramname"> <em>commandId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PGM_P&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function that fills in the buffer with command. 
<p>
Fills the outgoing zcl buffer and returns the number of bytes used in a buffer. The buffers used are the ones that were previously set with emberAfSetExternalBuffer.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>frameControl</em>&nbsp;</td><td>byte used for frame control </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>clusterId</em>&nbsp;</td><td>cluster id of message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>commandId</em>&nbsp;</td><td>command id of message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>String format for further arguments to the function. Format values are:<ul>
<li>'1' - '9' and 'A' - 'G': 1-16 byte long generic blobs</li><li>'u': int8u</li><li>'v': int16u</li><li>'w': int32u</li><li>'s': pointer to int8u, first byte contains remaining length</li><li>'S': one argument is int8u*, next argument is int8u length. Buffer is filled with length byte first and then the rest of data.</li><li>'b': one argument is int8u*, next argument is int8u length. Buffer is filled only with the data in pointer, length is used, but not written as a first byte. </li></ul>
</td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="33b9177647281c28c77818095e33b429"></a><!-- doxytag: member="client&#45;api.h::emberAfFillExternalManufacturerSpecificBuffer" ref="33b9177647281c28c77818095e33b429" args="(int8u frameControl, EmberAfClusterId clusterId, int16u manufacturerCode, int8u commandId, PGM_P format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16u emberAfFillExternalManufacturerSpecificBuffer           </td>
          <td>(</td>
          <td class="paramtype">int8u&nbsp;</td>
          <td class="paramname"> <em>frameControl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1">EmberAfClusterId</a>&nbsp;</td>
          <td class="paramname"> <em>clusterId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16u&nbsp;</td>
          <td class="paramname"> <em>manufacturerCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8u&nbsp;</td>
          <td class="paramname"> <em>commandId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PGM_P&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function that fills in the buffer with manufacturer-specifc command. 
<p>
Fills the outgoing zcl buffer and returns the number of bytes used in a buffer. The buffers used are the ones that were previously set with emberAfSetExternalBuffer.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>frameControl</em>&nbsp;</td><td>byte used for frame control </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>clusterId</em>&nbsp;</td><td>cluster id of message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>manufacturerCode</em>&nbsp;</td><td>manufacturer code of message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>commandId</em>&nbsp;</td><td>command id of message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>String format for further arguments to the function. Format values are:<ul>
<li>'1' - '9' and 'A' - 'G': 1-16 byte long generic blobs</li><li>'u': int8u</li><li>'v': int16u</li><li>'w': int32u</li><li>'s': pointer to int8u, first byte contains remaining length</li><li>'S': one argument is int8u*, next argument is int8u length. Buffer is filled with length byte first and then the rest of data.</li><li>'b': one argument is int8u*, next argument is int8u length. Buffer is filled only with the data in pointer, length is used, but not written as a first byte. </li></ul>
</td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="529dc087e57fc2024f923e0501ec354b"></a><!-- doxytag: member="client&#45;api.h::emberAfSetExternalBuffer" ref="529dc087e57fc2024f923e0501ec354b" args="(int8u *buffer, int16u bufferLen, int16u *responseLengthPtr, EmberApsFrame *apsFramePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emberAfSetExternalBuffer           </td>
          <td>(</td>
          <td class="paramtype">int8u *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16u&nbsp;</td>
          <td class="paramname"> <em>bufferLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16u *&nbsp;</td>
          <td class="paramname"> <em>responseLengthPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EmberApsFrame *&nbsp;</td>
          <td class="paramname"> <em>apsFramePtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function that registers the buffer to use with the fill function. Registers the buffer for use with the emberAfFillExternalBuffer function. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Main buffer for constructing message. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bufferLen</em>&nbsp;</td><td>Available length of buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>responseLengthPtr</em>&nbsp;</td><td>location where length of message will be written into. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>apsFramePtr</em>&nbsp;</td><td>location where APS frame data will be written. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="74205810b48d778277bec6fae01fcfc1"></a><!-- doxytag: member="client&#45;api.h::emberAfFillBuffer" ref="74205810b48d778277bec6fae01fcfc1" args="(int8u *buffer, int16u bufferLen, int8u frameControl, int8u commandId, PGM_P format,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16u emberAfFillBuffer           </td>
          <td>(</td>
          <td class="paramtype">int8u *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16u&nbsp;</td>
          <td class="paramname"> <em>bufferLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8u&nbsp;</td>
          <td class="paramname"> <em>frameControl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8u&nbsp;</td>
          <td class="paramname"> <em>commandId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PGM_P&nbsp;</td>
          <td class="paramname"> <em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>...</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stateless function that fills the passed buffer with command data. 
<p>
Stateless method, that fill the passed buffer. This method is used internally by emberAfFillExternalBuffer, but can be used for generic buffer filling. 
</div>
</div><p>
</div>
<hr size="1">

<table border="0" cellspacing="0" cellpadding="0" width=100%>

<tr>

<td><address><small>

Application Framework API Reference. <br>

Application Framework V2.

</small></address>

</td>

<td align="right">

<address><small>

Copyright &copy; 2006-2010 by Ember Corporation. All rights reserved.<br>

Generated Tue Mar 15 16:12:32 2011 with <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.5.8.

</small></address>

</td>

</tr>

</table>

</body>

</html>
