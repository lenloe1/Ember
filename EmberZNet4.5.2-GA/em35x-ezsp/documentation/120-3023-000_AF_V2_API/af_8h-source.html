<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">

<title>Application Framework API Reference: af.h Source File</title>

<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">

</head><body>

<table border="0" cellspacing="0" cellpadding="0"  width=100%>

<tr>

<td><img src="emberLogoSmallWebsiteVer.gif"></td>

<td> <div class="qindex">

<a class="qindex" href="main.html">Home</a>&nbsp;

 | &nbsp;<a class="qindex" href="modules.html">Modules</a>&nbsp;

 | &nbsp;<a class="qindex" href="annotated.html">Data Structures</a>&nbsp;

 | &nbsp;<a class="qindex" href="files.html">File List</a>&nbsp;

 | &nbsp;<a class="qindex" href="dirs.html">Directories</a>&nbsp;

 | &nbsp;<a class="qindex" href="globals.html">Index</a></div>

</td>

</table>
<!-- Generated by Doxygen 1.5.8 -->
  <div class="navpath"><a class="el" href="dir_fecac40be0af2076ed38531225652d23.html">app</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_a4fb87c2c2a3c9408923edef982c913e.html">framework</a>&nbsp;&raquo&nbsp;<a class="el" href="dir_605e5f5caf164634166eb1a8bf56fb84.html">include</a>
  </div>
<div class="contents">
<h1>af.h</h1><a href="af_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00020"></a>00020 <span class="preprocessor">#ifndef __AF_API__</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#define __AF_API__</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="preprocessor">#ifndef CONFIGURATION_HEADER</span>
<a name="l00024"></a><a class="code" href="group__af.html#g8bb6ccd46f09b6a24c13271d1f905931">00024</a> <span class="preprocessor"></span><span class="preprocessor">  #define CONFIGURATION_HEADER "app/framework/util/config.h"</span>
<a name="l00025"></a>00025 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#include CONFIGURATION_HEADER</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00028"></a>00028 <span class="comment">// Micro and compiler specific typedefs and macros</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include PLATFORM_HEADER</span>
<a name="l00030"></a>00030 <span class="preprocessor"></span>
<a name="l00031"></a>00031 <span class="preprocessor">#ifdef EZSP_HOST</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span>  <span class="comment">// Includes needed for ember related functions for the EZSP host</span>
<a name="l00033"></a>00033 <span class="preprocessor">  #include "stack/include/error.h"</span>
<a name="l00034"></a>00034 <span class="preprocessor">  #include "stack/include/ember-types.h"</span>
<a name="l00035"></a>00035 <span class="preprocessor">  #include "app/util/ezsp/ezsp-protocol.h"</span>
<a name="l00036"></a>00036 <span class="preprocessor">  #include "app/util/ezsp/ezsp.h"</span>
<a name="l00037"></a>00037 <span class="preprocessor">  #include "app/util/ezsp/ezsp-utils.h"</span>
<a name="l00038"></a>00038 <span class="preprocessor">  #include "app/util/ezsp/serial-interface.h"</span>
<a name="l00039"></a>00039 <span class="preprocessor">#else</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span>  <span class="comment">// Includes needed for ember related functions for the EM250</span>
<a name="l00041"></a>00041 <span class="preprocessor">  #include "stack/include/ember.h"</span>
<a name="l00042"></a>00042 <span class="preprocessor">#endif // EZSP_HOST</span>
<a name="l00043"></a>00043 <span class="preprocessor"></span>
<a name="l00044"></a>00044 <span class="comment">// HAL - hardware abstraction layer</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include "hal/hal.h"</span> 
<a name="l00046"></a>00046 <span class="preprocessor">#include "app/util/serial/serial.h"</span>  <span class="comment">// Serial utility APIs</span>
<a name="l00047"></a>00047 
<a name="l00048"></a>00048 <span class="preprocessor">#include "stack/include/event.h"</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include "stack/include/error.h"</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include "<a class="code" href="af-types_8h.html" title="The include file for all the types for Ember ApplicationFramework.">af-types.h</a>"</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include "app/framework/util/print.h"</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include "<a class="code" href="af-structs_8h.html">app/framework/gen/af-structs.h</a>"</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include "<a class="code" href="attribute-id_8h.html">app/framework/gen/attribute-id.h</a>"</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include "<a class="code" href="attribute-storage_8h.html">app/framework/gen/attribute-storage.h</a>"</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include "<a class="code" href="attribute-type_8h.html">app/framework/gen/attribute-type.h</a>"</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include "<a class="code" href="call-command-handler_8h.html">app/framework/gen/call-command-handler.h</a>"</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include "<a class="code" href="callback_8h.html">app/framework/gen/callback.h</a>"</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include "<a class="code" href="client-command-macro_8h.html">app/framework/gen/client-command-macro.h</a>"</span>
<a name="l00059"></a>00059 <span class="preprocessor">#include "<a class="code" href="cluster-id_8h.html">app/framework/gen/cluster-id.h</a>"</span>
<a name="l00060"></a>00060 <span class="preprocessor">#include "<a class="code" href="command-id_8h.html">app/framework/gen/command-id.h</a>"</span>
<a name="l00061"></a>00061 <span class="preprocessor">#include "<a class="code" href="debug-printing_8h.html">app/framework/gen/debug-printing.h</a>"</span>
<a name="l00062"></a>00062 <span class="preprocessor">#include "<a class="code" href="enums_8h.html">app/framework/gen/enums.h</a>"</span>
<a name="l00063"></a>00063 <span class="preprocessor">#include "<a class="code" href="print-cluster_8h.html">app/framework/gen/print-cluster.h</a>"</span>
<a name="l00064"></a>00064 <span class="preprocessor">#include "<a class="code" href="stack-handlers_8h.html">app/framework/gen/stack-handlers.h</a>"</span>
<a name="l00065"></a>00065 <span class="preprocessor">#include "<a class="code" href="client-api_8h.html" title="API for generating command buffer.">app/framework/util/client-api.h</a>"</span>
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 
<a name="l00069"></a>00069 <span class="comment">// @{</span>
<a name="l00070"></a>00070 
<a name="l00084"></a>00084 <a class="code" href="structEmberAfAttributeMetadata.html" title="Each attribute has it&amp;#39;s metadata stored in such struct.">EmberAfAttributeMetadata</a> *<a class="code" href="group__af.html#g095cba26e074ceebc7f10417381c136c" title="locate attribute metadata">emberAfLocateAttributeMetadata</a>(int8u endpoint,
<a name="l00085"></a>00085                                                          <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> cluster,
<a name="l00086"></a>00086                                                          <a class="code" href="group__aftypes.html#g70de7d5081a801871be8698e1b233df3" title="Type for refering to ZCL attribute id.">EmberAfAttributeId</a> attribute,
<a name="l00087"></a>00087                                                          int8u mask,
<a name="l00088"></a>00088                                                          int16u manufacturerCode);
<a name="l00089"></a>00089 
<a name="l00096"></a>00096 <span class="keywordtype">boolean</span> <a class="code" href="group__af.html#gc257c4c78dcc125e4dc62de0443522b7" title="Returns TRUE If endpoint contains cluster.">emberAfContainsCluster</a>(int8u endpoint, <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> clusterId);
<a name="l00097"></a>00097 
<a name="l00104"></a>00104 <span class="keywordtype">boolean</span> <a class="code" href="group__af.html#gd32243369ea4fa8044bf12e3880c5c8e" title="Returns TRUE If endpoint contains cluster server.">emberAfContainsServer</a>(int8u endpoint, <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> clusterId);
<a name="l00105"></a>00105 
<a name="l00112"></a>00112 <span class="keywordtype">boolean</span> <a class="code" href="group__af.html#g49fe5b2de76200572d06628ebb85355a" title="Returns TRUE If endpoint contains cluster client.">emberAfContainsClient</a>(int8u endpoint, <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> clusterId);
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 
<a name="l00144"></a>00144 <span class="keywordtype">boolean</span> <a class="code" href="group__af.html#gfaa5ffceb92608084a4ba6c50c0244fc" title="Main function for manipulating attributes.">emberAfReadOrUpdateAttribute</a>(<a class="code" href="structEmberAfAttributeSearchRecord.html" title="Struct used to find an attribute in storage. Together the elements in this search...">EmberAfAttributeSearchRecord</a> *attRecord,
<a name="l00145"></a>00145                                      <a class="code" href="structEmberAfAttributeMetadata.html" title="Each attribute has it&amp;#39;s metadata stored in such struct.">EmberAfAttributeMetadata</a> **metadata,
<a name="l00146"></a>00146                                      int8u *buffer,
<a name="l00147"></a>00147                                      <span class="keywordtype">boolean</span> write);
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 
<a name="l00170"></a>00170 <a class="code" href="enums_8h.html#6047361ca88bd5c16bb7bb759fa6da9d">EmberAfStatus</a> <a class="code" href="group__af.html#g0b183ac0fe73674191ee80c5413d67a1" title="write an attribute, performing all the checks.">emberAfWriteAttribute</a>(int8u endpoint,
<a name="l00171"></a>00171                                     <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> cluster,
<a name="l00172"></a>00172                                     <a class="code" href="group__aftypes.html#g70de7d5081a801871be8698e1b233df3" title="Type for refering to ZCL attribute id.">EmberAfAttributeId</a> attributeID,
<a name="l00173"></a>00173                                     int8u mask,
<a name="l00174"></a>00174                                     int8u* dataPtr,
<a name="l00175"></a>00175                                     int8u dataType);
<a name="l00176"></a>00176 
<a name="l00189"></a>00189 <a class="code" href="enums_8h.html#6047361ca88bd5c16bb7bb759fa6da9d">EmberAfStatus</a> <a class="code" href="group__af.html#ga1547b44576d8cc13d074df4ccce854e" title="write a cluster server attribute.">emberAfWriteServerAttribute</a>(int8u endpoint,
<a name="l00190"></a>00190                                           <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> cluster,
<a name="l00191"></a>00191                                           <a class="code" href="group__aftypes.html#g70de7d5081a801871be8698e1b233df3" title="Type for refering to ZCL attribute id.">EmberAfAttributeId</a> attributeID,
<a name="l00192"></a>00192                                           int8u* dataPtr,
<a name="l00193"></a>00193                                           int8u dataType);
<a name="l00194"></a>00194 
<a name="l00207"></a>00207 <a class="code" href="enums_8h.html#6047361ca88bd5c16bb7bb759fa6da9d">EmberAfStatus</a> <a class="code" href="group__af.html#g5ff46b5980f79768a69e47f4532776d2" title="write an cluster client attribute.">emberAfWriteClientAttribute</a>(int8u endpoint,
<a name="l00208"></a>00208                                           <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> cluster,
<a name="l00209"></a>00209                                           <a class="code" href="group__aftypes.html#g70de7d5081a801871be8698e1b233df3" title="Type for refering to ZCL attribute id.">EmberAfAttributeId</a> attributeID,
<a name="l00210"></a>00210                                           int8u* dataPtr,
<a name="l00211"></a>00211                                           int8u dataType);
<a name="l00212"></a>00212 
<a name="l00224"></a>00224 <a class="code" href="enums_8h.html#6047361ca88bd5c16bb7bb759fa6da9d">EmberAfStatus</a> <a class="code" href="group__af.html#g682f91186012c8e5d8f8d9b39db1c2f4" title="write an manufacturer specific server attribute.">emberAfWriteManufacturerSpecificServerAttribute</a>(int8u endpoint,
<a name="l00225"></a>00225                                                               <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> cluster,
<a name="l00226"></a>00226                                                               <a class="code" href="group__aftypes.html#g70de7d5081a801871be8698e1b233df3" title="Type for refering to ZCL attribute id.">EmberAfAttributeId</a> attributeID,
<a name="l00227"></a>00227                                                               int16u manufacturerCode,
<a name="l00228"></a>00228                                                               int8u* dataPtr,
<a name="l00229"></a>00229                                                               int8u dataType);
<a name="l00230"></a>00230 
<a name="l00242"></a>00242 <a class="code" href="enums_8h.html#6047361ca88bd5c16bb7bb759fa6da9d">EmberAfStatus</a> <a class="code" href="group__af.html#gde5be158045f4e8ab50589d7bc6543fd" title="write an manufacturer specific client attribute.">emberAfWriteManufacturerSpecificClientAttribute</a>(int8u endpoint,
<a name="l00243"></a>00243                                                               <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> cluster,
<a name="l00244"></a>00244                                                               <a class="code" href="group__aftypes.html#g70de7d5081a801871be8698e1b233df3" title="Type for refering to ZCL attribute id.">EmberAfAttributeId</a> attributeID,
<a name="l00245"></a>00245                                                               int16u manufacturerCode,
<a name="l00246"></a>00246                                                               int8u* dataPtr,
<a name="l00247"></a>00247                                                               int8u dataType);
<a name="l00248"></a>00248 
<a name="l00249"></a>00249 
<a name="l00264"></a>00264 <a class="code" href="enums_8h.html#6047361ca88bd5c16bb7bb759fa6da9d">EmberAfStatus</a> <a class="code" href="group__af.html#g683d8c019ee3fc1780392ad3a627eb92" title="Function that test the success of attribute write.">emberAfVerifyAttributeWrite</a>(int8u endpoint,
<a name="l00265"></a>00265                                           <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> cluster,
<a name="l00266"></a>00266                                           <a class="code" href="group__aftypes.html#g70de7d5081a801871be8698e1b233df3" title="Type for refering to ZCL attribute id.">EmberAfAttributeId</a> attributeID,
<a name="l00267"></a>00267                                           int8u mask,
<a name="l00268"></a>00268                                           int16u manufacturerCode,
<a name="l00269"></a>00269                                           int8u* buffer,
<a name="l00270"></a>00270                                           int8u dataType);
<a name="l00271"></a>00271 
<a name="l00284"></a>00284 <a class="code" href="enums_8h.html#6047361ca88bd5c16bb7bb759fa6da9d">EmberAfStatus</a> <a class="code" href="group__af.html#g867ffbf6f8ae49e8ec1c616827bb2c05" title="Read the attribute value, performing all the checks.">emberAfReadAttribute</a>(int8u endpoint,
<a name="l00285"></a>00285                                    <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> cluster,
<a name="l00286"></a>00286                                    <a class="code" href="group__aftypes.html#g70de7d5081a801871be8698e1b233df3" title="Type for refering to ZCL attribute id.">EmberAfAttributeId</a> attributeID,
<a name="l00287"></a>00287                                    int8u mask,
<a name="l00288"></a>00288                                    int8u* dataPtr,
<a name="l00289"></a>00289                                    int8u maxLength,
<a name="l00290"></a>00290                                    int8u* dataType);
<a name="l00291"></a>00291 
<a name="l00304"></a>00304 <a class="code" href="enums_8h.html#6047361ca88bd5c16bb7bb759fa6da9d">EmberAfStatus</a> <a class="code" href="group__af.html#g4ea5f81d248403fd06e84162d725e8ed" title="Read the server attribute value, performing all the checks.">emberAfReadServerAttribute</a>(int8u endpoint,
<a name="l00305"></a>00305                                          <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> cluster,
<a name="l00306"></a>00306                                          <a class="code" href="group__aftypes.html#g70de7d5081a801871be8698e1b233df3" title="Type for refering to ZCL attribute id.">EmberAfAttributeId</a> attributeID,
<a name="l00307"></a>00307                                          int8u* dataPtr,
<a name="l00308"></a>00308                                          int8u maxLength);
<a name="l00309"></a>00309 
<a name="l00322"></a>00322 <a class="code" href="enums_8h.html#6047361ca88bd5c16bb7bb759fa6da9d">EmberAfStatus</a> <a class="code" href="group__af.html#gc1cf13428f135f11c8e98676aa413867" title="Read the attribute value, performing all the checks.">emberAfReadClientAttribute</a>(int8u endpoint,
<a name="l00323"></a>00323                                          <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> cluster,
<a name="l00324"></a>00324                                          <a class="code" href="group__aftypes.html#g70de7d5081a801871be8698e1b233df3" title="Type for refering to ZCL attribute id.">EmberAfAttributeId</a> attributeID,
<a name="l00325"></a>00325                                          int8u* dataPtr,
<a name="l00326"></a>00326                                          int8u maxLength);
<a name="l00327"></a>00327 
<a name="l00339"></a>00339 <a class="code" href="enums_8h.html#6047361ca88bd5c16bb7bb759fa6da9d">EmberAfStatus</a> <a class="code" href="group__af.html#ga7b95601092f4f12ed954703f25ef757" title="Read the server attribute value, performing all the checks.">emberAfReadManufacturerSpecificServerAttribute</a>(int8u endpoint,
<a name="l00340"></a>00340                                                              <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> cluster,
<a name="l00341"></a>00341                                                              <a class="code" href="group__aftypes.html#g70de7d5081a801871be8698e1b233df3" title="Type for refering to ZCL attribute id.">EmberAfAttributeId</a> attributeID,
<a name="l00342"></a>00342                                                              int16u manufacturerCode,
<a name="l00343"></a>00343                                                              int8u* dataPtr,
<a name="l00344"></a>00344                                                              int8u maxLength);
<a name="l00345"></a>00345 
<a name="l00357"></a>00357 <a class="code" href="enums_8h.html#6047361ca88bd5c16bb7bb759fa6da9d">EmberAfStatus</a> <a class="code" href="group__af.html#gc7384a45d3a95ae31d0cd8c9b734d8d8" title="Read the attribute value, performing all the checks.">emberAfReadManufacturerSpecificClientAttribute</a>(int8u endpoint,
<a name="l00358"></a>00358                                                              <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> cluster,
<a name="l00359"></a>00359                                                              <a class="code" href="group__aftypes.html#g70de7d5081a801871be8698e1b233df3" title="Type for refering to ZCL attribute id.">EmberAfAttributeId</a> attributeID,
<a name="l00360"></a>00360                                                              int16u manufacturerCode,
<a name="l00361"></a>00361                                                              int8u* dataPtr,
<a name="l00362"></a>00362                                                              int8u maxLength);
<a name="l00363"></a>00363 
<a name="l00364"></a>00364 
<a name="l00371"></a>00371 int8u <a class="code" href="group__af.html#ge60f3399641d67810625fe60bc8db999" title="this function returns the size of the ZCL data in bytes.">emberAfGetDataSize</a>(int8u dataType);
<a name="l00372"></a>00372 
<a name="l00378"></a><a class="code" href="group__af.html#g636636d4f8515794b079c656cab52dfa">00378</a> <span class="preprocessor">#define emberAfClusterIsManufacturerSpecific(cluster) ((cluster)-&gt;clusterId &gt;= 0xFC00)</span>
<a name="l00379"></a>00379 <span class="preprocessor"></span>
<a name="l00380"></a>00380 
<a name="l00386"></a><a class="code" href="group__af.html#gf8b869c302f112fe35b75d699b775a73">00386</a> <span class="preprocessor">#define emberAfAttributeIsReadOnly(metadata) (((metadata)-&gt;mask &amp; ATTRIBUTE_MASK_WRITABLE) == 0)</span>
<a name="l00387"></a>00387 <span class="preprocessor"></span>
<a name="l00393"></a><a class="code" href="group__af.html#ga7349b104b7437916173457d12ec1275">00393</a> <span class="preprocessor">#define emberAfAttributeIsClient(metadata) (((metadata)-&gt;mask &amp; ATTRIBUTE_MASK_CLIENT) != 0)</span>
<a name="l00394"></a>00394 <span class="preprocessor"></span>
<a name="l00400"></a><a class="code" href="group__af.html#gfc3d06a6c1ef7e21b15c0169067b1b5e">00400</a> <span class="preprocessor">#define emberAfAttributeIsTokenized(metadata) (((metadata)-&gt;mask &amp; ATTRIBUTE_MASK_TOKENIZE) != 0)</span>
<a name="l00401"></a>00401 <span class="preprocessor"></span>
<a name="l00407"></a><a class="code" href="group__af.html#g717f28db9e7e003118529bac79a3c6b0">00407</a> <span class="preprocessor">#define emberAfAttributeIsSingleton(metadata) (((metadata)-&gt;mask &amp; ATTRIBUTE_MASK_SINGLETON) != 0)</span>
<a name="l00408"></a>00408 <span class="preprocessor"></span>
<a name="l00414"></a><a class="code" href="group__af.html#ge36bc217d86fcb7742f1f3b71931d782">00414</a> <span class="preprocessor">#define emberAfAttributeIsManufacturerSpecific(metadata) (((metadata)-&gt;mask &amp; ATTRIBUTE_MASK_MANUFACTURER_SPECIFIC) != 0)</span>
<a name="l00415"></a>00415 <span class="preprocessor"></span>
<a name="l00416"></a>00416 
<a name="l00422"></a><a class="code" href="group__af.html#g5163593a0a1121d0ca98789f62839081">00422</a> <span class="preprocessor">#define emberAfAttributeSize(metadata) ((metadata)-&gt;size)</span>
<a name="l00423"></a>00423 <span class="preprocessor"></span>
<a name="l00424"></a>00424 <span class="comment">// master array of all defined endpoints</span>
<a name="l00425"></a>00425 <span class="keyword">extern</span> <a class="code" href="structEmberAfDefinedEndpoint.html" title="Struct that maps actual endpoint type, onto a specific endpoint.">EmberAfDefinedEndpoint</a> <a class="code" href="group__af.html#gdea929ff7caa3aa37e207aebfcc0f7c7" title="macro that returns true if the cluster is in the manufacturer specific range">endpoints</a>[];
<a name="l00426"></a>00426 
<a name="l00430"></a><a class="code" href="group__af.html#gf98f35ad2ee6c9032c13758580e47db6">00430</a> <span class="preprocessor">#define emberAfEndpointFromIndex(index) (endpoints[(index)].endpoint)</span>
<a name="l00431"></a>00431 <span class="preprocessor"></span>
<a name="l00435"></a>00435 int8u <a class="code" href="group__af.html#g598aa00f3e5ea5a0bae12aa0c9cdb084">emberAfIndexFromEndpoint</a>(int8u endpoint);
<a name="l00436"></a>00436 
<a name="l00440"></a><a class="code" href="group__af.html#ge0841ee13160817302032f31c739bc10">00440</a> <span class="preprocessor">#define emberAfProfileIdFromIndex(index) (endpoints[(index)].profileId)</span>
<a name="l00441"></a>00441 <span class="preprocessor"></span>
<a name="l00445"></a><a class="code" href="group__af.html#g8ea7ce1308bdedd22b86a15a524b6e40">00445</a> <span class="preprocessor">#define emberAfDeviceIdFromIndex(index) (endpoints[(index)].deviceId)</span>
<a name="l00446"></a>00446 <span class="preprocessor"></span>
<a name="l00450"></a><a class="code" href="group__af.html#g2a7e2d2a33104af32cbc59d82e60d16c">00450</a> <span class="preprocessor">#define emberAfDeviceVersionFromIndex(index) (endpoints[(index)].deviceVersion)</span>
<a name="l00451"></a>00451 <span class="preprocessor"></span>
<a name="l00458"></a><a class="code" href="group__af.html#gadebd563de3cc0b2cfb096a4ae684254">00458</a> <span class="preprocessor">#define emberAfPrimaryProfileId()       emberAfProfileIdFromIndex(0)</span>
<a name="l00459"></a>00459 <span class="preprocessor"></span>
<a name="l00463"></a><a class="code" href="group__af.html#g995067cd6a454ea0b8fed1ef5e698f24">00463</a> <span class="preprocessor">#define emberAfPrimaryEndpoint() (endpoints[0].endpoint)</span>
<a name="l00464"></a>00464 <span class="preprocessor"></span>
<a name="l00465"></a>00465 
<a name="l00469"></a>00469 int8u <a class="code" href="group__af.html#g12cf02d285be828b64a5fd256e06dcd6" title="Returns the number of endpoints.">emberAfEndpointCount</a>(<span class="keywordtype">void</span>);
<a name="l00470"></a>00470 
<a name="l00475"></a>00475 <span class="keyword">enum</span> {
<a name="l00476"></a><a class="code" href="group__af.html#gg06fc87d81c62e9abb8790b6e5713c55bfd57fdee945bd55779a37c2511c85acb">00476</a>   <a class="code" href="group__af.html#gg06fc87d81c62e9abb8790b6e5713c55bfd57fdee945bd55779a37c2511c85acb">EMBER_AF_DATA_TYPE_ANALOG</a>     = 0,
<a name="l00477"></a><a class="code" href="group__af.html#gg06fc87d81c62e9abb8790b6e5713c55b84b375f83e2473f5d930472c211a9be7">00477</a>   <a class="code" href="group__af.html#gg06fc87d81c62e9abb8790b6e5713c55b84b375f83e2473f5d930472c211a9be7">EMBER_AF_DATA_TYPE_DISCRETE</a>   = 1,
<a name="l00478"></a><a class="code" href="group__af.html#gg06fc87d81c62e9abb8790b6e5713c55bf66d229b7b13aceca7930bcd23f94f25">00478</a>   <a class="code" href="group__af.html#gg06fc87d81c62e9abb8790b6e5713c55bf66d229b7b13aceca7930bcd23f94f25">EMBER_AF_DATA_TYPE_NONE</a>       = 2
<a name="l00479"></a>00479 };
<a name="l00483"></a>00483 int8u <a class="code" href="group__af.html#g6ae8eecbfa10cb66ce97ce39d2d76a6b" title="Returns the type of the attribute, either ANALOG, DISCRETE or NONE.">emberAfGetAttributeAnalogOrDiscreteType</a>(int8u dataType);
<a name="l00484"></a>00484 
<a name="l00488"></a>00488 <span class="keywordtype">boolean</span> <a class="code" href="group__af.html#g8fba25edae3c1804111bd91782606e1a" title="Returns true if type is signed, false otherwise.">emberAfIsTypeSigned</a>(int8u dataType);
<a name="l00489"></a>00489 
<a name="l00493"></a>00493 int32u <a class="code" href="group__af.html#g895d66833f1c95ce47378fbbce3cec19" title="Function that extracts a 32-bit integer from the message buffer.">emberAfGetInt32u</a>(<span class="keyword">const</span> int8u* message, int16u currentIndex, int16u msgLen);
<a name="l00494"></a>00494 
<a name="l00498"></a>00498 int32u <a class="code" href="group__af.html#g18ac4bf74e612ec40d14451d680c6c22" title="Function that extracts a 24-bit integer from the message buffer.">emberAfGetInt24u</a>(<span class="keyword">const</span> int8u* message, int16u currentIndex, int16u msgLen);
<a name="l00499"></a>00499 
<a name="l00503"></a>00503 int16u <a class="code" href="group__af.html#g5d7886e2ef84f90f90279598ffd9d43b" title="Function that extracts a 16-bit integer from the message buffer.">emberAfGetInt16u</a>(<span class="keyword">const</span> int8u* message, int16u currentIndex, int16u msgLen);
<a name="l00507"></a>00507 int8u* <a class="code" href="group__af.html#g9c2e03c9ae4563e434867b68e24d9f60" title="Function that extracts a ZCL string from the message buffer.">emberAfGetString</a>(int8u* message, int16u currentIndex, int16u msgLen);
<a name="l00508"></a>00508 
<a name="l00512"></a><a class="code" href="group__af.html#gad34519f98b11ba7428ab066dd73cebf">00512</a> <span class="preprocessor">#define emberAfGetInt8u(message, currentIndex, msgLen) message[currentIndex]</span>
<a name="l00513"></a>00513 <span class="preprocessor"></span>
<a name="l00517"></a><a class="code" href="group__af.html#gedfbae51fbfff0ce68ea71371733c260">00517</a> <span class="preprocessor">#define emberAfCopyInt8u(data,index,x) (data[index] = (x))</span>
<a name="l00518"></a>00518 <span class="preprocessor"></span>
<a name="l00521"></a>00521 <span class="keywordtype">void</span> <a class="code" href="group__af.html#ga03409d2a2270fb4550c646d6ebbba7d" title="function that copies an in16u value into a buffer">emberAfCopyInt16u</a>(int8u *data, int16u index, int16u x);
<a name="l00525"></a>00525 <span class="keywordtype">void</span> <a class="code" href="group__af.html#g30dfc60d4190ed7fd51a44ee14814a6d" title="function that copies an in24u value into a buffer">emberAfCopyInt24u</a>(int8u *data, int16u index, int32u x);
<a name="l00529"></a>00529 <span class="keywordtype">void</span> <a class="code" href="group__af.html#g8fa16b910b534058526e4e2f5be6390a" title="function that copies an in32u value into a buffer">emberAfCopyInt32u</a>(int8u *data, int16u index, int32u x);
<a name="l00530"></a>00530 <span class="comment">/*</span>
<a name="l00531"></a>00531 <span class="comment"> * @brief Function that copies a ZigBee string into a buffer.  The size</span>
<a name="l00532"></a>00532 <span class="comment"> * parameter should indicate the maximum number of characters to copy to the</span>
<a name="l00533"></a>00533 <span class="comment"> * destination buffer not including the length byte.</span>
<a name="l00534"></a>00534 <span class="comment"> */</span>
<a name="l00535"></a>00535 <span class="keywordtype">void</span> <a class="code" href="group__af.html#ge2fe09e5939c21806a363d649c8973d5" title="macro that returns true if the cluster is in the manufacturer specific range">emberAfCopyString</a>(int8u *dest, int8u *src, int8u size);
<a name="l00536"></a>00536 <span class="comment">/*</span>
<a name="l00537"></a>00537 <span class="comment"> * @brief Function that determines the length of a ZigBee string.</span>
<a name="l00538"></a>00538 <span class="comment"> */</span>
<a name="l00539"></a>00539 int8u <a class="code" href="group__af.html#gedafcd636969f368f4df9018d2d05d2d" title="macro that returns true if the cluster is in the manufacturer specific range">emberAfStringLength</a>(<span class="keyword">const</span> int8u *buffer);
<a name="l00540"></a>00540 
<a name="l00544"></a>00544 <span class="comment">// @{</span>
<a name="l00545"></a>00545 
<a name="l00554"></a>00554 <span class="keywordtype">boolean</span> <a class="code" href="group__af.html#g2a6e6335d534a83c7a940dc9625a3e19" title="Function that checks if endpoint is enabled.">emberAfIsDeviceEnabled</a>(int8u endpoint);
<a name="l00555"></a>00555 
<a name="l00564"></a>00564 <span class="keywordtype">void</span> <a class="code" href="group__af.html#gb1d8422905b11dfcb1de3d6045d5345c" title="Function that enables or disables an endpoint.">emberAfSetDeviceEnabled</a>(int8u endpoint, <span class="keywordtype">boolean</span> enabled);
<a name="l00565"></a>00565 
<a name="l00569"></a>00569 <span class="comment">// @{</span>
<a name="l00570"></a>00570 
<a name="l00571"></a>00571 
<a name="l00575"></a><a class="code" href="group__af.html#g48ec3071752d4067223f3e593a2c497d">00575</a> <span class="preprocessor">#define EMBER_AF_NEW_IMAGE_VERIFICATION TRUE</span>
<a name="l00576"></a>00576 <span class="preprocessor"></span>
<a name="l00581"></a><a class="code" href="group__af.html#g049890c8599f9e7c149242a41b53ba57">00581</a> <span class="preprocessor">#define EMBER_AF_CONTINUE_IMAGE_VERIFY  FALSE</span>
<a name="l00582"></a>00582 <span class="preprocessor"></span>
<a name="l00583"></a>00583 
<a name="l00590"></a>00590 <span class="keyword">extern</span> PGM <a class="code" href="structEmberAfOtaImageId.html" title="This is a unique identifier for referencing ZigBee Over-the-air upgrade images. It...">EmberAfOtaImageId</a> <a class="code" href="group__af.html#g299bd2cf8a123544088b9bf5e00f0204" title="This variable defines an invalid image id. It is used to determine if a returned...">emberAfInvalidImageId</a>;
<a name="l00591"></a>00591 
<a name="l00592"></a>00592 
<a name="l00603"></a>00603 <span class="keywordtype">boolean</span> <a class="code" href="group__af.html#gbfe0e12f8234191421a8749e99d3aee6" title="Returns true if a given ZCL data type is a string type.">emberAfIsThisDataTypeAStringType</a>(int8u dataType);
<a name="l00604"></a>00604 
<a name="l00612"></a>00612 int8u <a class="code" href="group__af.html#g31c90d125b2dee755986f85461aecd8a" title="Returns a next sequence number for the outgoing ZCL message.">emberAfNextSequence</a>(<span class="keywordtype">void</span>);
<a name="l00613"></a>00613 
<a name="l00621"></a>00621 int8s <a class="code" href="group__af.html#gcc2085a9cd51029a1f6bf8f9166cb1e1" title="Simple integer comparison function. Compares two values of a known length as integers...">emberAfCompareValues</a>(int8u* val1, int8u* val2, int8u len);
<a name="l00622"></a>00622 
<a name="l00626"></a>00626 <span class="keywordtype">void</span> <a class="code" href="group__af.html#ge39560455a5025b2ac8d69e4aa65b04e" title="populates the eui64 with the local eui64.">emberAfGetEui64</a>(EmberEUI64 returnEui64);
<a name="l00627"></a>00627 
<a name="l00631"></a>00631 EmberNodeId <a class="code" href="group__af.html#g41a90ba70764352cad4001a47ac99863" title="Returns the node ID of the local node.">emberAfGetNodeId</a>(<span class="keywordtype">void</span>);
<a name="l00632"></a>00632 
<a name="l00636"></a>00636 <span class="comment">// @{</span>
<a name="l00637"></a>00637 
<a name="l00638"></a>00638 <span class="comment">// Guaranteed print</span>
<a name="l00643"></a><a class="code" href="group__af.html#gcd101fd8e5afc8b51e24baec6f2c8892">00643</a> <span class="comment"></span><span class="preprocessor">#define emberAfGuaranteedPrint(...)   emberAfPrint(0xFFFF, __VA_ARGS__)</span>
<a name="l00644"></a>00644 <span class="preprocessor"></span>
<a name="l00648"></a><a class="code" href="group__af.html#gd0f474d35444745e31c359a2d016376e">00648</a> <span class="preprocessor">#define emberAfGuaranteedPrintln(...) emberAfPrintln(0xFFFF, __VA_ARGS__)</span>
<a name="l00649"></a>00649 <span class="preprocessor"></span>
<a name="l00653"></a><a class="code" href="group__af.html#g46b22e65546ddd20361e9961e8af3562">00653</a> <span class="preprocessor">#define emberAfGuaranteedPrintBuffer(buffer,len,withSpace) emberAfPrintBuffer(0xFFFF,(buffer),(len),(withSpace))</span>
<a name="l00654"></a>00654 <span class="preprocessor"></span>
<a name="l00658"></a><a class="code" href="group__af.html#g468f0a4791990d55dbe40e97dad93db3">00658</a> <span class="preprocessor">#define emberAfGuaranteedPrintString(buffer) emberAfPrintString(0xFFFF,(buffer))</span>
<a name="l00659"></a>00659 <span class="preprocessor"></span>
<a name="l00664"></a><a class="code" href="group__af.html#ge0541c3f9a25bbfe17a92a121441febe">00664</a> <span class="preprocessor">#define emberAfGuaranteedFlush()      emberAfFlush(0xFFFF)</span>
<a name="l00665"></a>00665 <span class="preprocessor"></span>
<a name="l00669"></a>00669 <span class="keywordtype">boolean</span> <a class="code" href="group__af.html#g7632d4e43af545968d43c1afe1621bd5" title="returns true if certain debug area is enabled.">emberAfPrintEnabled</a>(int16u functionality);
<a name="l00670"></a>00670 
<a name="l00674"></a>00674 <span class="keywordtype">void</span> <a class="code" href="group__af.html#ge137237748cacaa9e5e7efbd131ee6fc" title="Useful function to print a buffer.">emberAfPrintBuffer</a>(int16u area, <span class="keyword">const</span> int8u *buffer, int16u bufferLen, <span class="keywordtype">boolean</span> withSpaces);
<a name="l00675"></a>00675 
<a name="l00680"></a>00680 <span class="keywordtype">void</span> <a class="code" href="group__af.html#gb705cd6e5bb64b8bd65f2b20082cc38e" title="Useful function to print characters strings. The first byte of the buffer specifies...">emberAfPrintString</a>(int16u area, <span class="keyword">const</span> int8u *buffer);
<a name="l00681"></a>00681 
<a name="l00687"></a>00687 <span class="keywordtype">void</span> <a class="code" href="group__af.html#gae4a23123a7be43a342f9de52061a062" title="prints the specified text if certain debug are is enabled">emberAfPrint</a>(int16u functionality, PGM_P formatString, ...);
<a name="l00688"></a>00688 
<a name="l00695"></a>00695 <span class="keywordtype">void</span> <a class="code" href="group__af.html#g53bfe4a617ac5c5b329ce2ad2ec302f2" title="prints the specified text if certain debug are is enabled. Print-out will include...">emberAfPrintln</a>(int16u functionality, PGM_P formatString, ...);
<a name="l00696"></a>00696 
<a name="l00700"></a>00700 <span class="keywordtype">void</span> <a class="code" href="group__af.html#g7d6327d6ddac70195ba108378da52131" title="buffer flush">emberAfFlush</a>(int16u functionality);
<a name="l00701"></a>00701 
<a name="l00705"></a>00705 <span class="keywordtype">void</span> <a class="code" href="group__af.html#g48c61a6eb9e64b3517cfb60351b9f7f5" title="turns on debugging for certain functional area">emberAfPrintOn</a>(int16u functionality);
<a name="l00706"></a>00706 
<a name="l00710"></a>00710 <span class="keywordtype">void</span> <a class="code" href="group__af.html#gb41bb135732f8175ac683932533d4743" title="turns off debugging for certain functional area">emberAfPrintOff</a>(int16u functionality);
<a name="l00711"></a>00711 
<a name="l00714"></a>00714 <span class="keywordtype">void</span> <a class="code" href="group__af.html#g6fb47e22ca374caee4d5a325ff5324e7" title="turns on debugging for all functional areas">emberAfPrintAllOn</a>(<span class="keywordtype">void</span>);
<a name="l00715"></a>00715 
<a name="l00719"></a>00719 <span class="keywordtype">void</span> <a class="code" href="group__af.html#g86df92da1e1cac093909feffd470be3f" title="turns off debugging for all functional areas">emberAfPrintAllOff</a>(<span class="keywordtype">void</span>);
<a name="l00720"></a>00720 
<a name="l00724"></a>00724 <span class="keywordtype">void</span> <a class="code" href="group__af.html#g1b72529fe9aeb310f70bd51ec8442283" title="prints current status of functional areas">emberAfPrintStatus</a>(<span class="keywordtype">void</span>);
<a name="l00725"></a>00725 
<a name="l00729"></a>00729 <span class="keywordtype">void</span> <a class="code" href="group__af.html#g35eee411be73bc788ff12234faf0c7e8" title="prints eui64 stored in little endian format">emberAfPrintLittleEndianEui64</a>(<span class="keyword">const</span> EmberEUI64 eui64);
<a name="l00730"></a>00730 
<a name="l00731"></a>00731 
<a name="l00735"></a>00735 <span class="keywordtype">void</span> <a class="code" href="group__af.html#g18ddcce71fd7bb3cc1b750097f291676" title="prints eui64 stored in big endian format">emberAfPrintBigEndianEui64</a>(<span class="keyword">const</span> EmberEUI64 eui64);
<a name="l00736"></a>00736 
<a name="l00740"></a>00740 <span class="keywordtype">void</span> <a class="code" href="group__af.html#gd07838ddabd4dfc2aa87abe5901f18b3" title="prints all message data in message format">emberAfPrintMessageData</a>(int8u* data, int16u length);
<a name="l00741"></a>00741 
<a name="l00742"></a>00742 
<a name="l00749"></a><a class="code" href="group__af.html#g8c6a34653a1277566e0e4ff328dcc3f3">00749</a> <span class="preprocessor">#define MILLISECOND_TICKS_PER_QUARTERSECOND (MILLISECOND_TICKS_PER_SECOND &gt;&gt; 2)</span>
<a name="l00750"></a><a class="code" href="group__af.html#gb31d7de0f7f17e8e3b8c02ea725dea21">00750</a> <span class="preprocessor"></span><span class="preprocessor">#define MILLISECOND_TICKS_PER_MINUTE (60L * MILLISECOND_TICKS_PER_SECOND)</span>
<a name="l00751"></a><a class="code" href="group__af.html#gfb2cecba802b2baa133f3ee609dc8b56">00751</a> <span class="preprocessor"></span><span class="preprocessor">#define MILLISECOND_TICKS_PER_HOUR   (60L * MILLISECOND_TICKS_PER_MINUTE)</span>
<a name="l00752"></a>00752 <span class="preprocessor"></span>
<a name="l00753"></a>00753 <span class="keyword">extern</span> int32u <a class="code" href="group__af.html#g87a0eab60deec2f5bce7c08201517c63" title="Macro for setting hibernate duration at run time.">emberAfHibernateDuration</a>;
<a name="l00754"></a>00754 
<a name="l00761"></a><a class="code" href="group__af.html#gdc5fd48799100a30494f2b9cd2c65083">00761</a> <span class="preprocessor">#define EMBER_AF_SET_HIBERNATE_DURATION(newValue)       \</span>
<a name="l00762"></a>00762 <span class="preprocessor">  emberAfHibernateDuration = newValue</span>
<a name="l00763"></a>00763 <span class="preprocessor"></span>
<a name="l00770"></a><a class="code" href="group__af.html#gd90ca1f939fdf37b324960e42eac2206">00770</a> <span class="preprocessor">#define EMBER_AF_SET_NAP_DURATION(newValue)     \</span>
<a name="l00771"></a>00771 <span class="preprocessor">  emberAfNapDuration = newValue</span>
<a name="l00772"></a>00772 <span class="preprocessor"></span>
<a name="l00799"></a>00799 <span class="keyword">enum</span> {
<a name="l00800"></a>00800   <span class="comment">// we may be able to remove these top two since they are</span>
<a name="l00801"></a>00801   <span class="comment">// handled by the stack on the SOC.</span>
<a name="l00802"></a><a class="code" href="group__af.html#ggdf764cbdea00d65edcd07bb9953ad2b735b0e8e921783eb13ef2a0b822678c21">00802</a>   <a class="code" href="group__af.html#ggdf764cbdea00d65edcd07bb9953ad2b735b0e8e921783eb13ef2a0b822678c21">EMBER_AF_WAITING_FOR_DATA_ACK</a>                  = 0x01, <span class="comment">//not needed?</span>
<a name="l00803"></a><a class="code" href="group__af.html#ggdf764cbdea00d65edcd07bb9953ad2b76b4d120935bc520811361f1b323bf44b">00803</a>   <a class="code" href="group__af.html#ggdf764cbdea00d65edcd07bb9953ad2b76b4d120935bc520811361f1b323bf44b">EMBER_AF_LAST_POLL_GOT_DATA</a>                    = 0x02, <span class="comment">//not needed?</span>
<a name="l00804"></a><a class="code" href="group__af.html#ggdf764cbdea00d65edcd07bb9953ad2b7f423244c23037d63c19ae5258e12e1b8">00804</a>   <a class="code" href="group__af.html#ggdf764cbdea00d65edcd07bb9953ad2b7f423244c23037d63c19ae5258e12e1b8">EMBER_AF_WAITING_FOR_SERVICE_DISCOVERY</a>         = 0x04,
<a name="l00805"></a><a class="code" href="group__af.html#ggdf764cbdea00d65edcd07bb9953ad2b7baf0ca7dbc32027e09942af0360b788b">00805</a>   <a class="code" href="group__af.html#ggdf764cbdea00d65edcd07bb9953ad2b7baf0ca7dbc32027e09942af0360b788b">EMBER_AF_WAITING_FOR_ZDO_RESPONSE</a>              = 0x08,
<a name="l00806"></a><a class="code" href="group__af.html#ggdf764cbdea00d65edcd07bb9953ad2b7ab86c8ac338ff9452831c245566a646d">00806</a>   <a class="code" href="group__af.html#ggdf764cbdea00d65edcd07bb9953ad2b7ab86c8ac338ff9452831c245566a646d">EMBER_AF_WAITING_FOR_ZCL_RESPONSE</a>              = 0x10,
<a name="l00807"></a><a class="code" href="group__af.html#ggdf764cbdea00d65edcd07bb9953ad2b72a2856639b83e0344346dd8992bdd2eb">00807</a>   <a class="code" href="group__af.html#ggdf764cbdea00d65edcd07bb9953ad2b72a2856639b83e0344346dd8992bdd2eb">EMBER_AF_WAITING_FOR_REGISTRATION</a>              = 0x20,
<a name="l00808"></a><a class="code" href="group__af.html#ggdf764cbdea00d65edcd07bb9953ad2b7f2c9f06e367b017a17011113da3f3029">00808</a>   <a class="code" href="group__af.html#ggdf764cbdea00d65edcd07bb9953ad2b7f2c9f06e367b017a17011113da3f3029">EMBER_AF_WAITING_FOR_PARTNER_LINK_KEY_EXCHANGE</a> = 0x40,
<a name="l00809"></a>00809 };
<a name="l00810"></a>00810 
<a name="l00816"></a>00816 <span class="preprocessor">#ifndef EMBER_AF_WAKE_TIMEOUT</span>
<a name="l00817"></a><a class="code" href="group__af.html#g64bbc51cafc1c2596c505c1a6cbc9497">00817</a> <span class="preprocessor"></span><span class="preprocessor">#define EMBER_AF_WAKE_TIMEOUT 4 // 1 second</span>
<a name="l00818"></a>00818 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00819"></a>00819 <span class="preprocessor"></span>
<a name="l00827"></a>00827 <span class="preprocessor">#ifndef EMBER_AF_WAKE_TIMEOUT_MASK</span>
<a name="l00828"></a><a class="code" href="group__af.html#ge1aa1bbef9fd1414829e6702d8a35ea6">00828</a> <span class="preprocessor"></span><span class="preprocessor">#define EMBER_AF_WAKE_TIMEOUT_MASK (EMBER_AF_WAITING_FOR_ZDO_RESPONSE \</span>
<a name="l00829"></a>00829 <span class="preprocessor">                                    | EMBER_AF_WAITING_FOR_ZCL_RESPONSE)</span>
<a name="l00830"></a>00830 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00831"></a>00831 <span class="preprocessor"></span>
<a name="l00836"></a>00836 <span class="keyword">extern</span> int32u <a class="code" href="group__af.html#ge0f733aabdfbf4ebe7bdb57c1232c913" title="externed value used in task functions and macros which is declared inside app/framework/util/util...">emAfCurrentAppTasks</a>;
<a name="l00837"></a>00837 
<a name="l00841"></a>00841 <span class="keywordtype">void</span> <a class="code" href="group__af.html#g45195ca76a1f47ad93431f729158c3a0" title="A function used to add a task to the task register.">emberAfAddToCurrentAppTasks</a>(int32u mask);
<a name="l00842"></a>00842 
<a name="l00846"></a>00846 <span class="keywordtype">void</span> <a class="code" href="group__af.html#g2e54defcb4ad5289cd6a8a11af9840e8" title="A function used to remove a task from the task register.">emberAfRemoveFromCurrentAppTasks</a>(int32u mask);
<a name="l00847"></a>00847 
<a name="l00858"></a>00858 <span class="keywordtype">boolean</span> <a class="code" href="group__af.html#g46ac59db5b4361d63a5ff1823b4110c5" title="A function used to check if it is ok to hibernate. It is not ok to hibernate if any...">emberAfOkToHibernate</a>(<span class="keywordtype">void</span>);
<a name="l00859"></a>00859 
<a name="l00867"></a><a class="code" href="group__af.html#ga14aac11ee7f42b1a4bebb91b0523ff2">00867</a> <span class="preprocessor">#define emberAfOkToNap() (emberAfGetCurrentSleepControl() &lt; EMBER_AF_STAY_AWAKE)</span>
<a name="l00868"></a>00868 <span class="preprocessor"></span>
<a name="l00874"></a>00874 <span class="preprocessor">#ifdef ZA_DEVICE_IS_SLEEPY</span>
<a name="l00875"></a>00875 <span class="preprocessor"></span><span class="preprocessor">#define emberAfCurrentAppTasks() (emAfCurrentAppTasks)</span>
<a name="l00876"></a>00876 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00877"></a><a class="code" href="group__af.html#g3ed0daddbc37a6a3b0bb0d91694ff5eb">00877</a> <span class="preprocessor"></span><span class="preprocessor">#define emberAfCurrentAppTasks()</span>
<a name="l00878"></a>00878 <span class="preprocessor"></span><span class="preprocessor">#endif //ZA_DEVICE_IS_SLEEPY</span>
<a name="l00879"></a>00879 <span class="preprocessor"></span>
<a name="l00886"></a>00886 <span class="keywordtype">void</span> <a class="code" href="group__af.html#gd303441183cd1f53f737ffb4aa5dec02" title="a function used to run the applcation framework&amp;#39;s event mechanism. This function...">emberAfRunEvents</a>(<span class="keywordtype">void</span>);
<a name="l00887"></a>00887 
<a name="l00900"></a>00900 <span class="keywordtype">boolean</span> <a class="code" href="group__af.html#gca85bb852688b4579ed77cb6157960cb" title="This function schedules an event to call emberFindAndRejoinNetwork. the first call...">emberAfStartMove</a>(<span class="keywordtype">void</span>);
<a name="l00901"></a>00901 
<a name="l00906"></a><a class="code" href="group__af.html#gb67b9ac6bceeb76b20c22ef6194ff69b">00906</a> <span class="preprocessor">#define EMBER_AF_CLIENT_CLUSTER_TICK TRUE</span>
<a name="l00907"></a>00907 <span class="preprocessor"></span>
<a name="l00912"></a><a class="code" href="group__af.html#g9326ddf4fa03a8f0c657af4baa7963a3">00912</a> <span class="preprocessor">#define EMBER_AF_SERVER_CLUSTER_TICK FALSE</span>
<a name="l00913"></a>00913 <span class="preprocessor"></span>
<a name="l00941"></a>00941 EmberStatus <a class="code" href="group__af.html#gcfbe97abf900b619673046f8c0d58f55" title="This function is used to schedule a cluster related event inside the application...">emberAfScheduleClusterTick</a>(int8u endpoint,
<a name="l00942"></a>00942                                        int16u clusterId,
<a name="l00943"></a>00943                                        <span class="keywordtype">boolean</span> isClient,
<a name="l00944"></a>00944                                        int32u timeMs,
<a name="l00945"></a>00945                                        <a class="code" href="af-types_8h.html#4a612352f4b32cb9713cc3150a04c776" title="This is an enum used to control how the device will sleep for a given active cluster...">EmberAfEventSleepControl</a> sleepControl);
<a name="l00946"></a>00946 
<a name="l00964"></a>00964 EmberStatus <a class="code" href="group__af.html#gc5d91e56fcd198a1d55b6a821395d305" title="A function used to deactivate a cluster related event. This function provides a wrapper...">emberAfDeactivateClusterTick</a>(int8u endpoint,
<a name="l00965"></a>00965                                          int16u clusterId,
<a name="l00966"></a>00966                                          <span class="keywordtype">boolean</span> isClient);
<a name="l00967"></a>00967 
<a name="l00990"></a>00990 EmberStatus <a class="code" href="group__af.html#gc759b2db2d3dd28a324cf7089c480b1d" title="A convenience function used to schedule an event in the Ember Event Control API depending...">emberAfEventControlSetDelay</a>(EmberEventControl *eventControl, int32u timeMs);
<a name="l00991"></a>00991 
<a name="l00992"></a>00992 
<a name="l01002"></a>01002 int32u <a class="code" href="group__af.html#gafb8a5ab5116c714874eae00dfb6daeb" title="A function used to retrieve the number of milliseconds until the next event scheduled...">emberAfMsToNextEvent</a>(int32u maxMs);
<a name="l01003"></a>01003 
<a name="l01014"></a><a class="code" href="group__af.html#gb997c59dbff5c6a012502cbebca89a6f">01014</a> <span class="preprocessor">#define emberAfQSToNextEvent(maxQS) (emberAfMsToNextEvent(maxQS * \</span>
<a name="l01015"></a>01015 <span class="preprocessor">                                     (MILLISECOND_TICKS_PER_QUARTERSECOND)) \</span>
<a name="l01016"></a>01016 <span class="preprocessor">                                     / (MILLISECOND_TICKS_PER_QUARTERSECOND))</span>
<a name="l01017"></a>01017 <span class="preprocessor"></span>
<a name="l01032"></a>01032 <a class="code" href="af-types_8h.html#4a612352f4b32cb9713cc3150a04c776" title="This is an enum used to control how the device will sleep for a given active cluster...">EmberAfEventSleepControl</a> <a class="code" href="group__af.html#ge8e95227980b1a136f31594dd986a7ea" title="A function for retrieving the most restrictive sleep control value for all scheduled...">emberAfGetCurrentSleepControl</a>(<span class="keywordtype">void</span>);
<a name="l01033"></a>01033 
<a name="l01043"></a>01043 <span class="keywordtype">void</span>  <a class="code" href="group__af.html#gdcacc621e79256164b4f9a01912dcc08" title="A function for setting the default sleep control value against which all scheduled...">emberAfSetDefaultSleepControl</a>(<a class="code" href="af-types_8h.html#4a612352f4b32cb9713cc3150a04c776" title="This is an enum used to control how the device will sleep for a given active cluster...">EmberAfEventSleepControl</a> control);
<a name="l01044"></a>01044 
<a name="l01053"></a>01053  <span class="keyword">extern</span> <a class="code" href="af-types_8h.html#4a612352f4b32cb9713cc3150a04c776" title="This is an enum used to control how the device will sleep for a given active cluster...">EmberAfEventSleepControl</a> <a class="code" href="group__af.html#g492d4523384214a179906c2bee9f38cc" title="A function used to retrive the default sleep control against which all event sleep...">emAfDefaultSleepControl</a>;
<a name="l01054"></a><a class="code" href="group__af.html#g83d89a2af7e258c3ae5e758a5181c5b3">01054</a> <span class="preprocessor"> #define emberAfGetDefaultSleepControl() (emAfDefaultSleepControl)</span>
<a name="l01055"></a>01055 <span class="preprocessor"></span>
<a name="l01060"></a>01060 <span class="comment">// @{</span>
<a name="l01061"></a>01061 
<a name="l01074"></a>01074 int32u <a class="code" href="group__af.html#gb68a3653062a93661c88f51e2fefd51c" title="Retrieves current time.">emberAfGetCurrentTime</a>(<span class="keywordtype">void</span>);
<a name="l01075"></a>01075 
<a name="l01087"></a>01087 <span class="keywordtype">void</span> <a class="code" href="group__af.html#gb1de990278f77c562818dcaf538386a3" title="Sets current time. Convenience function for setting the time to a value. If the time...">emberAfSetTime</a>(int32u utcTime);
<a name="l01088"></a>01088 
<a name="l01089"></a>01089 
<a name="l01103"></a>01103 <span class="keywordtype">void</span> <a class="code" href="group__af.html#ga547e9f181fbd1fb6bee1275e464900b" title="Prints time.">emberAfPrintTime</a>(int32u utcTime);
<a name="l01104"></a>01104 
<a name="l01109"></a>01109 <span class="comment">// @{</span>
<a name="l01110"></a>01110 
<a name="l01122"></a>01122 <span class="keyword">extern</span> <span class="keywordtype">boolean</span> <a class="code" href="group__af.html#gc9921f264c509d86ebdeee3c780541ae" title="DEPRECATED: Use emberAfSendResponse to send the response immediately or any of the...">emberAfResponseWaitingFlag</a>;
<a name="l01123"></a>01123 
<a name="l01129"></a><a class="code" href="group__af.html#g41eadfeeaecb8705f9249fcc7acb5607">01129</a> <span class="preprocessor">#define emberAfSetResponseWaiting() emberAfResponseWaitingFlag = TRUE</span>
<a name="l01130"></a>01130 <span class="preprocessor"></span>
<a name="l01143"></a>01143 EmberStatus <a class="code" href="group__af.html#g982a21440897806cbf6903c21ea51b79" title="This function sends a ZCL response, based on the information that is currently in...">emberAfSendResponse</a>(<span class="keywordtype">void</span>);
<a name="l01144"></a>01144 
<a name="l01159"></a>01159 EmberStatus <a class="code" href="group__af.html#gc7e3fa6bb158b92b03b29b613500fbe7" title="DEPRECATED: Use emberAfSendCommandUnicast instead to unicast the message to a specific...">emberAfSendRequest</a>(<span class="keywordtype">void</span>);
<a name="l01160"></a>01160 
<a name="l01164"></a>01164 EmberStatus <a class="code" href="group__af.html#gc85e4acd8e59f32362393edfdad999e1" title="Sends multicast.">emberAfSendMulticast</a>(EmberMulticastId multicastId,
<a name="l01165"></a>01165                                  EmberApsFrame *apsFrame,
<a name="l01166"></a>01166                                  int16u messageLength,
<a name="l01167"></a>01167                                  int8u* message);
<a name="l01168"></a>01168 
<a name="l01172"></a>01172 EmberStatus <a class="code" href="group__af.html#g37b3ed8dbc28470caa5d7a22dd1b7c17" title="Sends broadcast.">emberAfSendBroadcast</a>(EmberNodeId destination,
<a name="l01173"></a>01173                                  EmberApsFrame *apsFrame,
<a name="l01174"></a>01174                                  int16u messageLength,
<a name="l01175"></a>01175                                  int8u* message);
<a name="l01176"></a>01176 
<a name="l01180"></a>01180 EmberStatus <a class="code" href="group__af.html#g42d44f955d601b90c6b5cc72d17284d2" title="Sends unicast.">emberAfSendUnicast</a>(EmberOutgoingMessageType type,
<a name="l01181"></a>01181                                int16u indexOrDestination,
<a name="l01182"></a>01182                                EmberApsFrame *apsFrame,
<a name="l01183"></a>01183                                int16u messageLength,
<a name="l01184"></a>01184                                int8u* message);
<a name="l01185"></a>01185 
<a name="l01189"></a>01189 EmberStatus <a class="code" href="group__af.html#g408c69a8c98eb6c38453549a8396461c" title="Sends interpan message.">emberAfSendInterPan</a>(EmberPanId panId,
<a name="l01190"></a>01190                                 <span class="keyword">const</span> EmberEUI64 destinationLongId,
<a name="l01191"></a>01191                                 EmberNodeId destinationShortId,
<a name="l01192"></a>01192                                 EmberMulticastId multicastId,
<a name="l01193"></a>01193                                 <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> clusterId,
<a name="l01194"></a>01194                                 <a class="code" href="group__aftypes.html#g7a5905af9ace80ae0e28f25f56c3d2b0" title="Type for refering to ZigBee application profile id.">EmberAfProfileId</a> profileId,
<a name="l01195"></a>01195                                 int16u messageLength,
<a name="l01196"></a>01196                                 int8u* messageBytes);
<a name="l01197"></a>01197 
<a name="l01198"></a>01198 <span class="comment">// DEPRECATED.</span>
<a name="l01199"></a>01199 <span class="preprocessor">#define emberAfSendInterpanUnicast(destinationShortAddress,  \</span>
<a name="l01200"></a>01200 <span class="preprocessor">                                   destinationPanId,         \</span>
<a name="l01201"></a>01201 <span class="preprocessor">                                   destinationAppProfileId,  \</span>
<a name="l01202"></a>01202 <span class="preprocessor">                                   destinationClusterId,     \</span>
<a name="l01203"></a>01203 <span class="preprocessor">                                   multicastIdOrZero,        \</span>
<a name="l01204"></a>01204 <span class="preprocessor">                                   longAddressOrNull,        \</span>
<a name="l01205"></a>01205 <span class="preprocessor">                                   messageLength,            \</span>
<a name="l01206"></a><a class="code" href="group__af.html#gcb2f4e6be102720818567c30d13871c1">01206</a> <span class="preprocessor">                                   messageBytes)             \</span>
<a name="l01207"></a>01207 <span class="preprocessor">  emberAfSendInterPan(destinationPanId,                      \</span>
<a name="l01208"></a>01208 <span class="preprocessor">                      longAddressOrNull,                     \</span>
<a name="l01209"></a>01209 <span class="preprocessor">                      destinationShortAddress,               \</span>
<a name="l01210"></a>01210 <span class="preprocessor">                      multicastIdOrZero,                     \</span>
<a name="l01211"></a>01211 <span class="preprocessor">                      destinationClusterId,                  \</span>
<a name="l01212"></a>01212 <span class="preprocessor">                      destinationAppProfileId,               \</span>
<a name="l01213"></a>01213 <span class="preprocessor">                      messageLength,                         \</span>
<a name="l01214"></a>01214 <span class="preprocessor">                      messageBytes)</span>
<a name="l01215"></a>01215 <span class="preprocessor"></span>
<a name="l01219"></a>01219 EmberStatus <a class="code" href="group__af.html#g5c3d875a8532bac9560bd692f37aa7e4" title="Sends end device binding request.">emberAfSendEndDeviceBind</a>(int8u endpoint);
<a name="l01220"></a>01220 
<a name="l01228"></a>01228 EmberStatus <a class="code" href="group__af.html#gcbacce739bc36fd54bd7b2af67af6113" title="Sends the command prepared with emberAfFill.... macro.">emberAfSendCommandMulticast</a>(EmberMulticastId multicastId);
<a name="l01229"></a>01229 
<a name="l01237"></a>01237 EmberStatus <a class="code" href="group__af.html#g9d75e4d19f72e88e1aeb68ee44dbe084" title="Sends the command prepared with emberAfFill.... macro.">emberAfSendCommandUnicast</a>(EmberOutgoingMessageType type,
<a name="l01238"></a>01238                                       int16u indexOrDestination);
<a name="l01239"></a>01239 
<a name="l01246"></a>01246 EmberStatus <a class="code" href="group__af.html#g9e54d978c29b53d64895c7cc03bc2402" title="Sends the command prepared with emberAfFill.... macro.">emberAfSendCommandBroadcast</a>(EmberNodeId destination);
<a name="l01247"></a>01247 
<a name="l01258"></a>01258 EmberStatus <a class="code" href="group__af.html#g1a07b8d035bf27f68113d5edb25b5c4e" title="Sends the command prepared with emberAfFill.... macro.">emberAfSendCommandInterPan</a>(EmberPanId panId,
<a name="l01259"></a>01259                                        <span class="keyword">const</span> EmberEUI64 destinationLongId,
<a name="l01260"></a>01260                                        EmberNodeId destinationShortId,
<a name="l01261"></a>01261                                        EmberMulticastId multicastId,
<a name="l01262"></a>01262                                        <a class="code" href="group__aftypes.html#g7a5905af9ace80ae0e28f25f56c3d2b0" title="Type for refering to ZigBee application profile id.">EmberAfProfileId</a> profileId);
<a name="l01263"></a>01263 
<a name="l01264"></a>01264 <span class="comment">// DEPRECATED.</span>
<a name="l01265"></a>01265 <span class="preprocessor">#define emberAfSendCommandInterpanUnicast(eui64,       \</span>
<a name="l01266"></a>01266 <span class="preprocessor">                                          nodeId,      \</span>
<a name="l01267"></a>01267 <span class="preprocessor">                                          panId,       \</span>
<a name="l01268"></a>01268 <span class="preprocessor">                                          multicastId, \</span>
<a name="l01269"></a><a class="code" href="group__af.html#g8a0c49b3272910b1612d9e3e35fe4c28">01269</a> <span class="preprocessor">                                          profileId)   \</span>
<a name="l01270"></a>01270 <span class="preprocessor">  emberAfSendCommandInterPan(panId,                    \</span>
<a name="l01271"></a>01271 <span class="preprocessor">                             eui64,                    \</span>
<a name="l01272"></a>01272 <span class="preprocessor">                             nodeId,                   \</span>
<a name="l01273"></a>01273 <span class="preprocessor">                             multicastId,              \</span>
<a name="l01274"></a>01274 <span class="preprocessor">                             profileId)</span>
<a name="l01275"></a>01275 <span class="preprocessor"></span>
<a name="l01287"></a>01287 EmberStatus <a class="code" href="group__af.html#gaaee6d6cfe0dbdf3c95634607b9335b9" title="Sends a default response to a cluster command.">emberAfSendDefaultResponse</a>(<span class="keyword">const</span> <a class="code" href="structEmberAfClusterCommand.html" title="The EmberAFClusterCommand is a struct wrapper for all the data pertaining to a command...">EmberAfClusterCommand</a> *cmd,
<a name="l01288"></a>01288                                        <a class="code" href="enums_8h.html#6047361ca88bd5c16bb7bb759fa6da9d">EmberAfStatus</a> status);
<a name="l01289"></a>01289 
<a name="l01306"></a>01306 int8u <a class="code" href="group__af.html#g4ee30797668b74ebd63e11d54314992c" title="Returns the maximum size of the payload that the Application Support sub-layer will...">emberAfMaximumApsPayloadLength</a>(EmberOutgoingMessageType type,
<a name="l01307"></a>01307                                      int16u indexOrDestination,
<a name="l01308"></a>01308                                      EmberApsFrame *apsFrame);
<a name="l01309"></a>01309 
<a name="l01313"></a>01313 EmberApsFrame *<a class="code" href="group__af.html#g649d1d844d0e2957721d368970157cb5" title="Access to client API aps frame.">emberAfGetCommandApsFrame</a>(<span class="keywordtype">void</span>);
<a name="l01314"></a>01314 
<a name="l01320"></a><a class="code" href="group__af.html#g17430bfde13c219b704ce17e5820ca39">01320</a> <span class="preprocessor">#define EMBER_AF_CLIENT_CLUSTER_DISCOVERY FALSE</span>
<a name="l01321"></a>01321 <span class="preprocessor"></span>
<a name="l01327"></a><a class="code" href="group__af.html#gf52a20d2066d391cc493da5a81c4c190">01327</a> <span class="preprocessor">#define EMBER_AF_SERVER_CLUSTER_DISCOVERY TRUE</span>
<a name="l01328"></a>01328 <span class="preprocessor"></span>
<a name="l01329"></a>01329 <span class="preprocessor">#ifdef DOXYGEN_SHOULD_SKIP_THIS</span>
<a name="l01330"></a>01330 <span class="preprocessor"></span>
<a name="l01363"></a>01363 EmberStatus <a class="code" href="group__af.html#g9589fe15c8f416da7f216dc5325e604b" title="Find devices in the network that support a given cluster. This function assumes that...">emberAfFindDevicesSupportingCluster</a>(EmberNodeId target,
<a name="l01364"></a>01364                                                 <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> clusterId,
<a name="l01365"></a>01365                                                 <span class="keywordtype">boolean</span> serverCluster,
<a name="l01366"></a>01366                                                 <a class="code" href="af-types_8h.html#0f3b8e4d2649750b46e9e5f8d490f92c" title="This defines a callback where a code element or cluster can be informed as to the...">EmberAfServiceDiscoveryCallback</a> *callback);
<a name="l01367"></a>01367 <span class="preprocessor">#else // doxygen</span>
<a name="l01368"></a>01368 <span class="preprocessor"></span><span class="preprocessor">#define emberAfFindDevicesSupportingCluster( target, clusterId, serverCluster, callback) \</span>
<a name="l01369"></a>01369 <span class="preprocessor"> ( emberAfFindDevicesByProfileAndCluster( target, \</span>
<a name="l01370"></a>01370 <span class="preprocessor">     emberAfPrimaryProfileId(),         \</span>
<a name="l01371"></a>01371 <span class="preprocessor">     clusterId, \</span>
<a name="l01372"></a>01372 <span class="preprocessor">     serverCluster, \</span>
<a name="l01373"></a>01373 <span class="preprocessor">     callback) )</span>
<a name="l01374"></a>01374 <span class="preprocessor"></span><span class="preprocessor">#endif // doxygen </span>
<a name="l01375"></a>01375 <span class="preprocessor"></span>
<a name="l01376"></a>01376 
<a name="l01402"></a>01402 EmberStatus <a class="code" href="group__af.html#g80b6af0071e28c4d15f4d4d1c8a876b3" title="Use this function to find devices in the network with endpoints matching a given...">emberAfFindDevicesByProfileAndCluster</a>(EmberNodeId target,
<a name="l01403"></a>01403                                                   <a class="code" href="group__aftypes.html#g7a5905af9ace80ae0e28f25f56c3d2b0" title="Type for refering to ZigBee application profile id.">EmberAfProfileId</a> profileId,
<a name="l01404"></a>01404                                                   <a class="code" href="group__aftypes.html#g9261792b876f7cb9b463f66102a029d1" title="Type for refering to ZCL cluster id.">EmberAfClusterId</a> clusterId,
<a name="l01405"></a>01405                                                   <span class="keywordtype">boolean</span> serverCluster,
<a name="l01406"></a>01406                                                   <a class="code" href="af-types_8h.html#0f3b8e4d2649750b46e9e5f8d490f92c" title="This defines a callback where a code element or cluster can be informed as to the...">EmberAfServiceDiscoveryCallback</a> *callback);
<a name="l01407"></a>01407 
<a name="l01408"></a>01408 
<a name="l01414"></a>01414 EmberStatus <a class="code" href="group__af.html#ge2aef52567eb8b719892488682e7a829" title="Use this function to initiate a discovery for the IEEE address of the specified node...">emberAfFindIeeeAddress</a>(EmberNodeId shortAddress,
<a name="l01415"></a>01415                                    <a class="code" href="af-types_8h.html#0f3b8e4d2649750b46e9e5f8d490f92c" title="This defines a callback where a code element or cluster can be informed as to the...">EmberAfServiceDiscoveryCallback</a> *callback);
<a name="l01416"></a>01416 
<a name="l01422"></a>01422 EmberStatus <a class="code" href="group__af.html#gef961bd5194c7cdb0f9c3f0e2355fc0e" title="Use this function to initiate a discovery for the short ID of the specified long...">emberAfFindNodeId</a>(EmberEUI64 longAddress,
<a name="l01423"></a>01423                               <a class="code" href="af-types_8h.html#0f3b8e4d2649750b46e9e5f8d490f92c" title="This defines a callback where a code element or cluster can be informed as to the...">EmberAfServiceDiscoveryCallback</a> *callback);
<a name="l01424"></a>01424 
<a name="l01436"></a>01436 int8u <a class="code" href="group__af.html#g3dcd2aa131a74c066246910a6039be09" title="Use this function to add an entry for a remote device to the address table.">emberAfAddAddressTableEntry</a>(EmberEUI64 longId, EmberNodeId shortId);
<a name="l01437"></a>01437 
<a name="l01451"></a>01451 EmberStatus <a class="code" href="group__af.html#gd3aee05bc6db3150e053cb8df12c096f" title="Use this function to add an entry for a remote device to the address table at a specific...">emberAfSetAddressTableEntry</a>(int8u index,
<a name="l01452"></a>01452                                         EmberEUI64 longId,
<a name="l01453"></a>01453                                         EmberNodeId shortId);
<a name="l01454"></a>01454 
<a name="l01462"></a><a class="code" href="group__af.html#g2f70215c9bf60621e7c788bc563b9d7a">01462</a> <span class="preprocessor">#define emberAfCurrentCommand() (emAfCurrentCommand)</span>
<a name="l01463"></a>01463 <span class="preprocessor"></span><span class="keyword">extern</span> <a class="code" href="structEmberAfClusterCommand.html" title="The EmberAFClusterCommand is a struct wrapper for all the data pertaining to a command...">EmberAfClusterCommand</a> *<a class="code" href="group__af.html#g53880c753824e0ed6c179531e7a8ef61" title="DEPRECATED: Use emberAfSendResponse to send the response immediately or any of the...">emAfCurrentCommand</a>;
<a name="l01464"></a>01464 
<a name="l01471"></a><a class="code" href="group__af.html#g02999d309b3eda95c2b6a0d429d52d16">01471</a> <span class="preprocessor">#define emberAfCurrentEndpoint() (emberAfCurrentCommand()-&gt;apsFrame-&gt;destinationEndpoint)</span>
<a name="l01472"></a>01472 <span class="preprocessor"></span>
<a name="l01473"></a>01473 <span class="preprocessor">#ifdef DOXYGEN_SHOULD_SKIP_THIS</span>
<a name="l01474"></a>01474 <span class="preprocessor"></span>
<a name="l01482"></a>01482 EmberStatus <a class="code" href="group__af.html#gefca9f76c4078dc12aa4a6ced381c5bd" title="Use this function to initiate key establishment with a remote node. emberAfKeyEstablishmentCallback...">emberAfInitiateKeyEstablishment</a>(EmberNodeId nodeId, int8u endpoint);
<a name="l01483"></a>01483 
<a name="l01492"></a>01492 EmberStatus <a class="code" href="group__af.html#g88d49ecd27d56ec436202f00d21980c9" title="Use this function to initiate key establishment wih a remote node on a different...">emberAfInitiateInterPanKeyEstablishment</a>(EmberPanId panId,
<a name="l01493"></a>01493                                                     <span class="keyword">const</span> EmberEUI64 eui64);
<a name="l01494"></a>01494 
<a name="l01500"></a>01500 <span class="keywordtype">boolean</span> <a class="code" href="group__af.html#g47e85a6446e807df04ed9adc1eeeb86a" title="Use this function to tell if the device is in the process of performing key establishment...">emberAfPerformingKeyEstablishment</a>(<span class="keywordtype">void</span>);
<a name="l01501"></a>01501 
<a name="l01512"></a>01512 EmberStatus <a class="code" href="group__af.html#gbc5ec6f81dcd2eee2eeef09a734f3796" title="Use this function to initiate partner link key exchange with a remote node.">emberAfInitiatePartnerLinkKeyExchange</a>(EmberNodeId target,
<a name="l01513"></a>01513                                                   int8u endpoint,
<a name="l01514"></a>01514                                                   <a class="code" href="af-types_8h.html#bfbd269176d13643fb526fc7e52919dd" title="This defines a callback where a code element or cluster can be informed as to the...">EmberAfPartnerLinkKeyExchangeCallback</a> *callback);
<a name="l01515"></a>01515 <span class="preprocessor">#else</span>
<a name="l01516"></a>01516 <span class="preprocessor"></span><span class="preprocessor">  #define emberAfInitiateKeyEstablishment(nodeId, endpoint) \</span>
<a name="l01517"></a>01517 <span class="preprocessor">    emberAfInitiateKeyEstablishmentCallback(nodeId, endpoint)</span>
<a name="l01518"></a>01518 <span class="preprocessor"></span><span class="preprocessor">  #define emberAfInitiateInterPanKeyEstablishment(panId, eui64) \</span>
<a name="l01519"></a>01519 <span class="preprocessor">    emberAfInitiateInterPanKeyEstablishmentCallback(panId, eui64)</span>
<a name="l01520"></a>01520 <span class="preprocessor"></span><span class="preprocessor">  #define emberAfPerformingKeyEstablishment() \</span>
<a name="l01521"></a>01521 <span class="preprocessor">    emberAfPerformingKeyEstablishmentCallback()</span>
<a name="l01522"></a>01522 <span class="preprocessor"></span><span class="preprocessor">  #define emberAfInitiatePartnerLinkKeyExchange(target, endpoint, callback) \</span>
<a name="l01523"></a>01523 <span class="preprocessor">    emberAfInitiatePartnerLinkKeyExchangeCallback(target, endpoint, callback)</span>
<a name="l01524"></a>01524 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l01525"></a>01525 <span class="preprocessor"></span>
<a name="l01530"></a>01530 <span class="comment">// @{</span>
<a name="l01531"></a>01531 <span class="comment">// Frame control fields (8 bits total)</span>
<a name="l01532"></a>01532 <span class="comment">// Bits 0 and 1 are Frame Type Sub-field</span>
<a name="l01533"></a><a class="code" href="group__af.html#g2f0a167c5809c05d9c48b61f747c5d31">01533</a> <span class="preprocessor">#define ZCL_FRAME_CONTROL_FRAME_TYPE_MASK     (BIT(0)|BIT(1))</span>
<a name="l01534"></a><a class="code" href="group__af.html#g5633e815ba2cfa34788f56372cae7135">01534</a> <span class="preprocessor"></span><span class="preprocessor">#define ZCL_CLUSTER_SPECIFIC_COMMAND          BIT(0)</span>
<a name="l01535"></a><a class="code" href="group__af.html#gc556293563aad20ffb3b7a99016001cb">01535</a> <span class="preprocessor"></span><span class="preprocessor">#define ZCL_PROFILE_WIDE_COMMAND              0</span>
<a name="l01536"></a>01536 <span class="preprocessor"></span><span class="comment">// Bit 2 is Manufacturer Specific Sub-field</span>
<a name="l01537"></a><a class="code" href="group__af.html#g614cee97c5e8ddd83e1177a1bac522e3">01537</a> <span class="preprocessor">#define ZCL_MANUFACTURER_SPECIFIC_MASK        BIT(2)</span>
<a name="l01538"></a>01538 <span class="preprocessor"></span><span class="comment">// Bit 3 is Direction Sub-field</span>
<a name="l01539"></a><a class="code" href="group__af.html#gcbea81e2d5cda2991a6df0551e1fb553">01539</a> <span class="preprocessor">#define ZCL_FRAME_CONTROL_DIRECTION_MASK      BIT(3)</span>
<a name="l01540"></a><a class="code" href="group__af.html#g4b2c2424dc7ac539f09ff62478f8eb6d">01540</a> <span class="preprocessor"></span><span class="preprocessor">#define ZCL_FRAME_CONTROL_SERVER_TO_CLIENT    BIT(3)</span>
<a name="l01541"></a><a class="code" href="group__af.html#gea28fa2628e73779a559600b50110036">01541</a> <span class="preprocessor"></span><span class="preprocessor">#define ZCL_FRAME_CONTROL_CLIENT_TO_SERVER    0</span>
<a name="l01542"></a>01542 <span class="preprocessor"></span><span class="comment">// Bit 4 is Disable Default Response Sub-field</span>
<a name="l01543"></a><a class="code" href="group__af.html#gec24980d597fd38315a645e7952be7de">01543</a> <span class="preprocessor">#define ZCL_DISABLE_DEFAULT_RESPONSE_MASK     BIT(4)</span>
<a name="l01544"></a>01544 <span class="preprocessor"></span><span class="comment">// Bits 5 to 7 are reserved</span>
<a name="l01545"></a>01545 
<a name="l01546"></a>01546 <span class="comment">// Packet must be at least 3 bytes for ZCL overhead.</span>
<a name="l01547"></a>01547 <span class="comment">//   Frame Control (1-byte)</span>
<a name="l01548"></a>01548 <span class="comment">//   Sequence Number (1-byte)</span>
<a name="l01549"></a>01549 <span class="comment">//   Command Id (1-byte)</span>
<a name="l01550"></a><a class="code" href="group__af.html#ge45a40dad590be209b3ef869355c9dcd">01550</a> <span class="preprocessor">#define EMBER_AF_ZCL_OVERHEAD                       3</span>
<a name="l01551"></a><a class="code" href="group__af.html#g0d207bbb35053d4bd4311b0ac999a925">01551</a> <span class="preprocessor"></span><span class="preprocessor">#define EMBER_AF_ZCL_MANUFACTURER_SPECIFIC_OVERHEAD 5</span>
<a name="l01552"></a>01552 <span class="preprocessor"></span>
<a name="l01557"></a>01557 <span class="comment">// ${</span>
<a name="l01563"></a>01563 <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="group__af.html#g413eb8c1af379e6abda26ab35a3e1138" title="that function contains the functionality that app framework should execute during...">emberAfPollCompleteHandler</a>(EmberStatus status);
<a name="l01564"></a>01564 
<a name="l01565"></a>01565 
<a name="l01571"></a>01571 <span class="keywordtype">void</span> <a class="code" href="group__af.html#g4e7307025c6e1b4d938c78c22267b58e" title="that function contains the functionality that app framework should execute during...">emberAfEzspPollCompleteHandler</a>(EmberStatus status);
<a name="l01575"></a>01575 <span class="comment">// ${</span>
<a name="l01576"></a>01576 
<a name="l01584"></a>01584 EmberStatus <a class="code" href="group__af.html#gbe7c61305d616d3f87740a3d8c3b99f6" title="Use this function to form a new network using the specified network parameters.">emberAfFormNetwork</a>(EmberNetworkParameters *parameters);
<a name="l01585"></a>01585 
<a name="l01594"></a>01594 EmberStatus <a class="code" href="group__af.html#ge34572917abb33becaac39f4a1cd719a" title="Use this function to associate with the network using the specified network parameters...">emberAfJoinNetwork</a>(EmberNetworkParameters *parameters);
<a name="l01595"></a>01595 
<a name="l01596"></a>01596 <span class="preprocessor">#ifdef DOXYGEN_SHOULD_SKIP_THIS</span>
<a name="l01597"></a>01597 <span class="preprocessor"></span>
<a name="l01602"></a>01602 EmberStatus <a class="code" href="group__af.html#gdf302d89aadfc941b1368b762921148c" title="Use this function to find an unused PAN id and form a new network.">emberAfFindUnusedPanIdAndForm</a>(<span class="keywordtype">void</span>);
<a name="l01608"></a>01608 EmberStatus <a class="code" href="group__af.html#g938cb4c26abd39a0b7527822100d7070" title="Use this function to find a joinable network and join it.">emberAfStartSearchForJoinableNetwork</a>(<span class="keywordtype">void</span>);
<a name="l01609"></a>01609 <span class="preprocessor">#else</span>
<a name="l01610"></a>01610 <span class="preprocessor"></span><span class="preprocessor">  #define emberAfFindUnusedPanIdAndForm()        emberAfFindUnusedPanIdAndFormCallback()</span>
<a name="l01611"></a>01611 <span class="preprocessor"></span><span class="preprocessor">  #define emberAfStartSearchForJoinableNetwork() emberAfStartSearchForJoinableNetworkCallback()</span>
<a name="l01612"></a>01612 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l01613"></a>01613 <span class="preprocessor"></span>
<a name="l01618"></a>01618 <span class="preprocessor">#endif // __AF_API__</span>
</pre></div></div>
<hr size="1">

<table border="0" cellspacing="0" cellpadding="0" width=100%>

<tr>

<td><address><small>

Application Framework API Reference. <br>

Application Framework V2.

</small></address>

</td>

<td align="right">

<address><small>

Copyright &copy; 2006-2010 by Ember Corporation. All rights reserved.<br>

Generated Tue Mar 15 16:12:31 2011 with <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.5.8.

</small></address>

</td>

</tr>

</table>

</body>

</html>
